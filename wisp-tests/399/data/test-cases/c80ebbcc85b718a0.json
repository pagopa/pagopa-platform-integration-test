{"uid":"c80ebbcc85b718a0","name":"User pays a cart with single RPT without stamp that exists already in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with single RPT without stamp that exists already in GPD","historyId":"044be0da7076e3bb06270fb16271119a","time":{"start":1743557561377,"stop":1743557587199,"duration":25822},"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1743557561378,"stop":1743557562379,"duration":1001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1743557562380,"stop":1743557562380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1743557562380,"stop":1743557562380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1743557562381,"stop":1743557562812,"duration":431},"status":"passed","steps":[],"attachments":[{"uid":"aaba085c8a0dc011","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"aaba085c8a0dc011.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1743557562812,"stop":1743557563632,"duration":820},"status":"passed","steps":[],"attachments":[{"uid":"daac13f2ba49f841","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"daac13f2ba49f841.txt","type":"text/plain","size":8198},{"uid":"60b9dd7e42b79dd7","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"60b9dd7e42b79dd7.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1743557563633,"stop":1743557587198,"duration":23565},"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"450c16d0ce292d35","name":"Received response","source":"450c16d0ce292d35.attach","type":"text/plain","size":131},{"uid":"cb70e700d1c1b147","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [330460853504611] - Received response","source":"cb70e700d1c1b147.txt","type":"text/plain","size":29109},{"uid":"d69bcb163e4eaf6e","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"d69bcb163e4eaf6e.txt","type":"text/plain","size":167},{"uid":"e7b758d1fa747801","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"e7b758d1fa747801.txt","type":"text/plain","size":242},{"uid":"828352752f4e8b1d","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"828352752f4e8b1d.txt","type":"text/plain","size":821},{"uid":"667e6cae552783fe","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"667e6cae552783fe.txt","type":"text/plain","size":952},{"uid":"b1ff149c0c7445ea","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [330460853504611] - Received response","source":"b1ff149c0c7445ea.txt","type":"text/plain","size":31455},{"uid":"45e391ec59e3758f","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"45e391ec59e3758f.txt","type":"text/plain","size":1253},{"uid":"9f74428b801219dd","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"9f74428b801219dd.txt","type":"text/plain","size":104},{"uid":"e9d93d1dd32d52b4","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [330460853504611] - Received response","source":"e9d93d1dd32d52b4.txt","type":"text/plain","size":47137}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1743557587199,"stop":1743557587199,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":37,"broken":0,"skipped":0,"passed":56,"unknown":0,"total":93},"items":[{"uid":"55a2fb687f12ddeb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/398//#testresult/55a2fb687f12ddeb","status":"passed","time":{"start":1743471205065,"stop":1743471236243,"duration":31178}},{"uid":"f365eded6c9bdbb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/397//#testresult/f365eded6c9bdbb","status":"passed","time":{"start":1743384778905,"stop":1743384809629,"duration":30724}},{"uid":"f893aa754453e2c3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/396//#testresult/f893aa754453e2c3","status":"failed","statusDetails":"AssertionError: There are not events with business process receipt-ok.\n","time":{"start":1743298366293,"stop":1743298395674,"duration":29381}},{"uid":"871dbec635c0dc0f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/395//#testresult/871dbec635c0dc0f","status":"passed","time":{"start":1743211946680,"stop":1743211975199,"duration":28519}},{"uid":"4943cfd3b2c6053","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/394//#testresult/4943cfd3b2c6053","status":"passed","time":{"start":1743125557018,"stop":1743125589412,"duration":32394}},{"uid":"9553941806798726","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/393//#testresult/9553941806798726","status":"passed","time":{"start":1743039156006,"stop":1743039184707,"duration":28701}},{"uid":"f05cb7d820809ae5","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/392//#testresult/f05cb7d820809ae5","status":"passed","time":{"start":1742952749787,"stop":1742952777777,"duration":27990}},{"uid":"b7dd26c9d05cdec","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/391//#testresult/b7dd26c9d05cdec","status":"passed","time":{"start":1742866350180,"stop":1742866378715,"duration":28535}},{"uid":"bb6fee1ff3701d3e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/390//#testresult/bb6fee1ff3701d3e","status":"passed","time":{"start":1742779967102,"stop":1742779994637,"duration":27535}},{"uid":"986a358c64a4e292","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/389//#testresult/986a358c64a4e292","status":"passed","time":{"start":1742693545219,"stop":1742693573915,"duration":28696}},{"uid":"5c4c86ab5e765682","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/388//#testresult/5c4c86ab5e765682","status":"passed","time":{"start":1742607128218,"stop":1742607158944,"duration":30726}},{"uid":"b1d927dff09f0a82","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/387//#testresult/b1d927dff09f0a82","status":"passed","time":{"start":1742520754501,"stop":1742520786634,"duration":32133}},{"uid":"8b94524c8b95f9ec","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/386//#testresult/8b94524c8b95f9ec","status":"passed","time":{"start":1742434350766,"stop":1742434381304,"duration":30538}},{"uid":"257f64b7b1b1c609","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/385//#testresult/257f64b7b1b1c609","status":"passed","time":{"start":1742347943329,"stop":1742347980465,"duration":37136}},{"uid":"2afa878ce05826ac","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/384//#testresult/2afa878ce05826ac","status":"passed","time":{"start":1742261545116,"stop":1742261572693,"duration":27577}},{"uid":"2eb21327a8d91ad1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/383//#testresult/2eb21327a8d91ad1","status":"passed","time":{"start":1742175160754,"stop":1742175190324,"duration":29570}},{"uid":"1f77b789cd87a7a7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/382//#testresult/1f77b789cd87a7a7","status":"passed","time":{"start":1742088743108,"stop":1742088781011,"duration":37903}},{"uid":"46ab9f27887974e2","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/381//#testresult/46ab9f27887974e2","status":"passed","time":{"start":1742002335626,"stop":1742002366386,"duration":30760}},{"uid":"3b0dfdc28eb2e86c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/380//#testresult/3b0dfdc28eb2e86c","status":"failed","statusDetails":"AssertionError: The status code is not 302. Current value: 200.\n","time":{"start":1741915946856,"stop":1741915954833,"duration":7977}},{"uid":"fafb5ceedfad3766","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/379//#testresult/fafb5ceedfad3766","status":"passed","time":{"start":1741829541969,"stop":1741829569745,"duration":27776}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"c80ebbcc85b718a0.json","parameterValues":[]}