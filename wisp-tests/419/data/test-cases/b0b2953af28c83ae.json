{"uid":"b0b2953af28c83ae","name":"User pays a cart with two RPTs with multiple transfers that exists already in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with two RPTs with multiple transfers that exists already in GPD","historyId":"702988d7687e1c20b41508ba333358d3","time":{"start":1745199308308,"stop":1745199336376,"duration":28068},"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1745199308308,"stop":1745199309575,"duration":1267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1745199309575,"stop":1745199309575,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 3 transfers of which none are stamps","time":{"start":1745199309576,"stop":1745199309576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 3 transfers of which none are stamps","time":{"start":1745199309576,"stop":1745199309576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1745199309576,"stop":1745199310253,"duration":677},"status":"passed","steps":[],"attachments":[{"uid":"1f1ee1c8b7a2c4be","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"1f1ee1c8b7a2c4be.txt","type":"text/plain","size":1907}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1745199310254,"stop":1745199311132,"duration":878},"status":"passed","steps":[],"attachments":[{"uid":"fbe5728a0778ff93","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"fbe5728a0778ff93.txt","type":"text/plain","size":19287},{"uid":"5d283c0871cc713c","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"5d283c0871cc713c.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1745199311132,"stop":1745199336375,"duration":25243},"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"5ee4a7ae9e7be4ef","name":"Received response","source":"5ee4a7ae9e7be4ef.attach","type":"text/plain","size":131},{"uid":"ac244a0ddb16ac16","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [043078597548509] - Received response","source":"ac244a0ddb16ac16.txt","type":"text/plain","size":51390},{"uid":"ed68cbc5a4dea1d8","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"ed68cbc5a4dea1d8.txt","type":"text/plain","size":232},{"uid":"e8aea6126d9b0d1c","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"e8aea6126d9b0d1c.txt","type":"text/plain","size":354},{"uid":"58c068fee265e992","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"58c068fee265e992.txt","type":"text/plain","size":821},{"uid":"6bb80c453b672d54","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"6bb80c453b672d54.txt","type":"text/plain","size":1639},{"uid":"8e10b90ec4ee0b7e","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"8e10b90ec4ee0b7e.txt","type":"text/plain","size":822},{"uid":"c6e12e245b39d9d6","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"c6e12e245b39d9d6.txt","type":"text/plain","size":1646},{"uid":"724e655a3cd92bfa","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [043078597548509] - Received response","source":"724e655a3cd92bfa.txt","type":"text/plain","size":56082},{"uid":"ca3368b3661aa47","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"ca3368b3661aa47.txt","type":"text/plain","size":1292},{"uid":"632729783a06cfaa","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"632729783a06cfaa.txt","type":"text/plain","size":104},{"uid":"833f27ac7671c743","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [043078597548509] - Received response","source":"833f27ac7671c743.txt","type":"text/plain","size":87378},{"uid":"61e2f096d0cd6698","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [619865174926576] - Received response","source":"61e2f096d0cd6698.txt","type":"text/plain","size":87378}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1745199336376,"stop":1745199336376,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":16,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":39,"broken":0,"skipped":0,"passed":74,"unknown":0,"total":113},"items":[{"uid":"24e24232c46529d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/418//#testresult/24e24232c46529d","status":"passed","time":{"start":1745112870559,"stop":1745112898430,"duration":27871}},{"uid":"a03891eaafabf79f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/417//#testresult/a03891eaafabf79f","status":"passed","time":{"start":1745026459123,"stop":1745026492209,"duration":33086}},{"uid":"686e543c64187806","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/416//#testresult/686e543c64187806","status":"passed","time":{"start":1744940066871,"stop":1744940095213,"duration":28342}},{"uid":"a7f334d5f32e92ca","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/415//#testresult/a7f334d5f32e92ca","status":"passed","time":{"start":1744853663253,"stop":1744853692356,"duration":29103}},{"uid":"4ff41eaca74ef72a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/414//#testresult/4ff41eaca74ef72a","status":"passed","time":{"start":1744806474885,"stop":1744806503173,"duration":28288}},{"uid":"5fa0f28695bc75fb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/413//#testresult/5fa0f28695bc75fb","status":"passed","time":{"start":1744767298057,"stop":1744767327204,"duration":29147}},{"uid":"b5c6a7302d370556","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/412//#testresult/b5c6a7302d370556","status":"passed","time":{"start":1744680893313,"stop":1744680926475,"duration":33162}},{"uid":"9d106a5120ce47c4","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/411//#testresult/9d106a5120ce47c4","status":"passed","time":{"start":1744594485592,"stop":1744594514700,"duration":29108}},{"uid":"dd1c85cb7eb392e1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/410//#testresult/dd1c85cb7eb392e1","status":"passed","time":{"start":1744509175039,"stop":1744509204194,"duration":29155}},{"uid":"d8693a2baa4d27c9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/409//#testresult/d8693a2baa4d27c9","status":"passed","time":{"start":1744421627735,"stop":1744421655690,"duration":27955}},{"uid":"84b1256c0080e5eb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/408//#testresult/84b1256c0080e5eb","status":"failed","statusDetails":"AssertionError: There are not events with business process receipt-ok.\n","time":{"start":1744335275295,"stop":1744335300204,"duration":24909}},{"uid":"f855141acd1a1e5","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/407//#testresult/f855141acd1a1e5","status":"passed","time":{"start":1744248860334,"stop":1744248888467,"duration":28133}},{"uid":"c08db2e130c71448","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/406//#testresult/c08db2e130c71448","status":"passed","time":{"start":1744162451374,"stop":1744162479177,"duration":27803}},{"uid":"e88d045b90a2ce4e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/405//#testresult/e88d045b90a2ce4e","status":"passed","time":{"start":1744076060031,"stop":1744076088345,"duration":28314}},{"uid":"da2deacd99e0f084","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/404//#testresult/da2deacd99e0f084","status":"passed","time":{"start":1743989678850,"stop":1743989707944,"duration":29094}},{"uid":"bd9fd870c933fda7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/403//#testresult/bd9fd870c933fda7","status":"failed","statusDetails":"AssertionError: There are not events with business process receipt-ok.\n","time":{"start":1743903260922,"stop":1743903287823,"duration":26901}},{"uid":"e246bd539e26bfad","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/402//#testresult/e246bd539e26bfad","status":"passed","time":{"start":1743816851401,"stop":1743816884439,"duration":33038}},{"uid":"cf74e48e58b83b85","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/401//#testresult/cf74e48e58b83b85","status":"passed","time":{"start":1743730460737,"stop":1743730494058,"duration":33321}},{"uid":"b871ef2e408a876","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/400//#testresult/b871ef2e408a876","status":"failed","statusDetails":"AssertionError: There are not events with business process receipt-ok.\n","time":{"start":1743644061842,"stop":1743644086953,"duration":25111}},{"uid":"e3ad1bbefb8329c2","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/399//#testresult/e3ad1bbefb8329c2","status":"passed","time":{"start":1743557659212,"stop":1743557687808,"duration":28596}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"b0b2953af28c83ae.json","parameterValues":[]}