{
  "uid" : "51b9c27cc67e39a6",
  "name" : "User pays a cart with two RPTs on WFESP flow",
  "fullName" : "User pays a payment carts without stamps on nodoInviaCarrelloRPT: User pays a cart with two RPTs on WFESP flow",
  "historyId" : "464523d87fa33a512ccd03106fe14974",
  "time" : {
    "start" : 1745744799420,
    "stop" : 1745744801261,
    "duration" : 1841
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
  "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 312, in check_redirect_url\n    steputils.check_redirect_url(context, url_type)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 87, in check_redirect_url\n    utils.assert_show_message(url is not None, f\"The field 'redirect_url' in response doesn't exists.\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n",
  "flaky" : false,
  "newFailed" : false,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
    "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 312, in check_redirect_url\n    steputils.check_redirect_url(context, url_type)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 87, in check_redirect_url\n    utils.assert_show_message(url is not None, f\"The field 'redirect_url' in response doesn't exists.\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n",
    "steps" : [ {
      "name" : "Given systems up",
      "time" : {
        "start" : 1745744799421,
        "stop" : 1745744800540,
        "duration" : 1119
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Given a cart of RPTs non-multibeneficiary",
      "time" : {
        "start" : 1745744800540,
        "stop" : 1745744800540,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And a single RPT of type CP with 1 transfers of which none are stamps",
      "time" : {
        "start" : 1745744800541,
        "stop" : 1745744800541,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And a single RPT of type CP with 1 transfers of which none are stamps",
      "time" : {
        "start" : 1745744800541,
        "stop" : 1745744800541,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "When the user tries to pay a cart of RPTs on EC website with no redirect URL check",
      "time" : {
        "start" : 1745744800541,
        "stop" : 1745744801260,
        "duration" : 719
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "769fe8f3ac556ab7",
        "name" : "Step: [the user tries to pay a cart of RPTs on EC website with no redirect URL check] - Sent request",
        "source" : "769fe8f3ac556ab7.txt",
        "type" : "text/plain",
        "size" : 15115
      }, {
        "uid" : "c96bd12dc6405e23",
        "name" : "Step: [the user tries to pay a cart of RPTs on EC website with no redirect URL check] - Received response",
        "source" : "c96bd12dc6405e23.txt",
        "type" : "text/plain",
        "size" : 833
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Then the response contains the fake WFESP URL",
      "time" : {
        "start" : 1745744801260,
        "stop" : 1745744801261,
        "duration" : 1
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
      "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 312, in check_redirect_url\n    steputils.check_redirect_url(context, url_type)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 87, in check_redirect_url\n    utils.assert_show_message(url is not None, f\"The field 'redirect_url' in response doesn't exists.\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 6,
    "attachmentsCount" : 2,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "severity",
    "value" : "normal"
  }, {
    "name" : "tag",
    "value" : "happy_path"
  }, {
    "name" : "tag",
    "value" : "nodo_invia_carrello_rpt"
  }, {
    "name" : "tag",
    "value" : "runnable"
  }, {
    "name" : "feature",
    "value" : "User pays a payment carts without stamps on nodoInviaCarrelloRPT"
  }, {
    "name" : "framework",
    "value" : "behave"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 120,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 0,
        "unknown" : 0,
        "total" : 120
      },
      "items" : [ {
        "uid" : "18aaa11050493b62",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/429//#testresult/18aaa11050493b62",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745718216127,
          "stop" : 1745718217927,
          "duration" : 1800
        }
      }, {
        "uid" : "4af9cca48330d64d",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/424//#testresult/4af9cca48330d64d",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745631815707,
          "stop" : 1745631817802,
          "duration" : 2095
        }
      }, {
        "uid" : "1408f097ac11c4aa",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/423//#testresult/1408f097ac11c4aa",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745545381589,
          "stop" : 1745545383034,
          "duration" : 1445
        }
      }, {
        "uid" : "ddfd0f2a9d9d5147",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/422//#testresult/ddfd0f2a9d9d5147",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745458979155,
          "stop" : 1745458980568,
          "duration" : 1413
        }
      }, {
        "uid" : "b70b2ca49a908979",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/421//#testresult/b70b2ca49a908979",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745372659716,
          "stop" : 1745372661807,
          "duration" : 2091
        }
      }, {
        "uid" : "cfc4dc7aaca7ac9",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/420//#testresult/cfc4dc7aaca7ac9",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745286185623,
          "stop" : 1745286187032,
          "duration" : 1409
        }
      }, {
        "uid" : "bfc50c7afb5a799a",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/419//#testresult/bfc50c7afb5a799a",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745199871208,
          "stop" : 1745199873294,
          "duration" : 2086
        }
      }, {
        "uid" : "b7da4292af052196",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/418//#testresult/b7da4292af052196",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745113339835,
          "stop" : 1745113341050,
          "duration" : 1215
        }
      }, {
        "uid" : "7a344aa59fd2459a",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/417//#testresult/7a344aa59fd2459a",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1745027018940,
          "stop" : 1745027020987,
          "duration" : 2047
        }
      }, {
        "uid" : "a398ef0bb3469155",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/416//#testresult/a398ef0bb3469155",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744940541333,
          "stop" : 1744940542570,
          "duration" : 1237
        }
      }, {
        "uid" : "8e1e2a718157674c",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/415//#testresult/8e1e2a718157674c",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744854155567,
          "stop" : 1744854156959,
          "duration" : 1392
        }
      }, {
        "uid" : "5992426af932a9b8",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/414//#testresult/5992426af932a9b8",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744806952213,
          "stop" : 1744806953422,
          "duration" : 1209
        }
      }, {
        "uid" : "31b4e82c656d8703",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/413//#testresult/31b4e82c656d8703",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744767794809,
          "stop" : 1744767796218,
          "duration" : 1409
        }
      }, {
        "uid" : "453100a21d7d8aad",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/412//#testresult/453100a21d7d8aad",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744681462795,
          "stop" : 1744681464877,
          "duration" : 2082
        }
      }, {
        "uid" : "ddf770cd8c837c4",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/411//#testresult/ddf770cd8c837c4",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744594975752,
          "stop" : 1744594977176,
          "duration" : 1424
        }
      }, {
        "uid" : "6888cc886f4be7b6",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/410//#testresult/6888cc886f4be7b6",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744509671872,
          "stop" : 1744509673304,
          "duration" : 1432
        }
      }, {
        "uid" : "60df25a3798df8e3",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/409//#testresult/60df25a3798df8e3",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744422096467,
          "stop" : 1744422097664,
          "duration" : 1197
        }
      }, {
        "uid" : "a95d04fc522e6a46",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/408//#testresult/a95d04fc522e6a46",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744335765857,
          "stop" : 1744335767255,
          "duration" : 1398
        }
      }, {
        "uid" : "a5f0c32b1caec48",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/407//#testresult/a5f0c32b1caec48",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744249342593,
          "stop" : 1744249343831,
          "duration" : 1238
        }
      }, {
        "uid" : "b3d58432a44094e2",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/406//#testresult/b3d58432a44094e2",
        "status" : "failed",
        "statusDetails" : "AssertionError: The field 'redirect_url' in response doesn't exists.\n",
        "time" : {
          "start" : 1744162917975,
          "stop" : 1744162919178,
          "duration" : 1203
        }
      } ]
    },
    "tags" : [ "runnable", "nodo_invia_carrello_rpt", "happy_path" ]
  },
  "source" : "51b9c27cc67e39a6.json",
  "parameterValues" : [ ]
}