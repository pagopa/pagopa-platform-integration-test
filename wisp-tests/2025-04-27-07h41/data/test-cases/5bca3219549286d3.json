{
  "uid" : "5bca3219549286d3",
  "name" : "Scenario: User pays a cart with single RPT with one stamp that exists already in GPD",
  "fullName" : "User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: Scenario: User pays a cart with single RPT with one stamp that exists already in GPD",
  "historyId" : "45edd8d9564ca836a31fbab586c8fde7",
  "time" : {
    "start" : 1745739593013,
    "stop" : 1745739593954,
    "duration" : 941
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
  "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
  "flaky" : true,
  "newFailed" : true,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
    "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
    "steps" : [ {
      "name" : "Given systems up",
      "time" : {
        "start" : 1745739593013,
        "stop" : 1745739593953,
        "duration" : 940
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
      "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    }, {
      "name" : "Given a cart of RPTs non-multibeneficiary",
      "time" : {
        "start" : 1745739593954,
        "stop" : 1745739593954,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And a single RPT of type BBT with 2 transfers of which 1 are stamps",
      "time" : {
        "start" : 1745739593954,
        "stop" : 1745739593954,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID",
      "time" : {
        "start" : 1745739593954,
        "stop" : 1745739593954,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "When the user tries to pay a cart of RPTs on EC website",
      "time" : {
        "start" : 1745739593954,
        "stop" : 1745739593954,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Then the user is redirected on Checkout completing the payment",
      "time" : {
        "start" : 1745739593954,
        "stop" : 1745739593954,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And the debt position is closed",
      "time" : {
        "start" : 1745739593954,
        "stop" : 1745739593954,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 7,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "severity",
    "value" : "normal"
  }, {
    "name" : "tag",
    "value" : "happy_path"
  }, {
    "name" : "tag",
    "value" : "nodo_invia_carrello_rpt"
  }, {
    "name" : "tag",
    "value" : "runnable"
  }, {
    "name" : "feature",
    "value" : "User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"
  }, {
    "name" : "framework",
    "value" : "behave"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 52,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 68,
        "unknown" : 0,
        "total" : 120
      },
      "items" : [ {
        "uid" : "2fbe619c978fa9ae",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/429//#testresult/2fbe619c978fa9ae",
        "status" : "passed",
        "time" : {
          "start" : 1745717620877,
          "stop" : 1745717648816,
          "duration" : 27939
        }
      }, {
        "uid" : "abd6323bcbb3ab48",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/424//#testresult/abd6323bcbb3ab48",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1745631202807,
          "stop" : 1745631228677,
          "duration" : 25870
        }
      }, {
        "uid" : "2410e8ec5241d181",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/423//#testresult/2410e8ec5241d181",
        "status" : "passed",
        "time" : {
          "start" : 1745544836435,
          "stop" : 1745544862746,
          "duration" : 26311
        }
      }, {
        "uid" : "1df9309eb896e44c",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/422//#testresult/1df9309eb896e44c",
        "status" : "passed",
        "time" : {
          "start" : 1745458430990,
          "stop" : 1745458457070,
          "duration" : 26080
        }
      }, {
        "uid" : "aee6aa31a70a2281",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/421//#testresult/aee6aa31a70a2281",
        "status" : "passed",
        "time" : {
          "start" : 1745372029790,
          "stop" : 1745372058993,
          "duration" : 29203
        }
      }, {
        "uid" : "af580ff745d0c123",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/420//#testresult/af580ff745d0c123",
        "status" : "passed",
        "time" : {
          "start" : 1745285635277,
          "stop" : 1745285661411,
          "duration" : 26134
        }
      }, {
        "uid" : "b36bb0e8cccb2790",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/419//#testresult/b36bb0e8cccb2790",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1745199249579,
          "stop" : 1745199280160,
          "duration" : 30581
        }
      }, {
        "uid" : "5034a9ef952fcdd7",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/418//#testresult/5034a9ef952fcdd7",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1745112819887,
          "stop" : 1745112842448,
          "duration" : 22561
        }
      }, {
        "uid" : "3e8080285d52ad4e",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/417//#testresult/3e8080285d52ad4e",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1745026400133,
          "stop" : 1745026426111,
          "duration" : 25978
        }
      }, {
        "uid" : "fbd3533873248c63",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/416//#testresult/fbd3533873248c63",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1744940015960,
          "stop" : 1744940038571,
          "duration" : 22611
        }
      }, {
        "uid" : "5fb0f2ff7dc1ee38",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/415//#testresult/5fb0f2ff7dc1ee38",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1744853615610,
          "stop" : 1744853638493,
          "duration" : 22883
        }
      }, {
        "uid" : "12a2e8335e099cbe",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/414//#testresult/12a2e8335e099cbe",
        "status" : "passed",
        "time" : {
          "start" : 1744806421036,
          "stop" : 1744806446447,
          "duration" : 25411
        }
      }, {
        "uid" : "92e81c11bc3c19b4",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/413//#testresult/92e81c11bc3c19b4",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1744767245558,
          "stop" : 1744767268624,
          "duration" : 23066
        }
      }, {
        "uid" : "ced454eaf70805a7",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/412//#testresult/ced454eaf70805a7",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1744680834057,
          "stop" : 1744680859561,
          "duration" : 25504
        }
      }, {
        "uid" : "88f2b4b450f91918",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/411//#testresult/88f2b4b450f91918",
        "status" : "passed",
        "time" : {
          "start" : 1744594429952,
          "stop" : 1744594456153,
          "duration" : 26201
        }
      }, {
        "uid" : "fcfef62eb7205597",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/410//#testresult/fcfef62eb7205597",
        "status" : "passed",
        "time" : {
          "start" : 1744509124091,
          "stop" : 1744509150218,
          "duration" : 26127
        }
      }, {
        "uid" : "85aff1c001b7f3d5",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/409//#testresult/85aff1c001b7f3d5",
        "status" : "passed",
        "time" : {
          "start" : 1744421578374,
          "stop" : 1744421603586,
          "duration" : 25212
        }
      }, {
        "uid" : "bd6dd90832ef08d8",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/408//#testresult/bd6dd90832ef08d8",
        "status" : "passed",
        "time" : {
          "start" : 1744335219946,
          "stop" : 1744335246362,
          "duration" : 26416
        }
      }, {
        "uid" : "3448610774c92ba8",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/407//#testresult/3448610774c92ba8",
        "status" : "passed",
        "time" : {
          "start" : 1744248806321,
          "stop" : 1744248831741,
          "duration" : 25420
        }
      }, {
        "uid" : "d99a626ef22d4d2a",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/406//#testresult/d99a626ef22d4d2a",
        "status" : "failed",
        "statusDetails" : "AssertionError: There are not events with business process receipt-ok.\n",
        "time" : {
          "start" : 1744162404885,
          "stop" : 1744162427166,
          "duration" : 22281
        }
      } ]
    },
    "tags" : [ "runnable", "nodo_invia_carrello_rpt", "happy_path" ]
  },
  "source" : "5bca3219549286d3.json",
  "parameterValues" : [ ]
}