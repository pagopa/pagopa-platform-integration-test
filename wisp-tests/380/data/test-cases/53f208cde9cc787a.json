{"uid":"53f208cde9cc787a","name":"User pays a cart with two RPTs without stamp of which one already exists in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with two RPTs without stamp of which one already exists in GPD","historyId":"ce26fea19cdeea993eaa1b427c38d67e","time":{"start":1741915969533,"stop":1741915977048,"duration":7515},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1741915969534,"stop":1741915970529,"duration":995},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1741915970529,"stop":1741915970529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1741915970530,"stop":1741915970530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1741915970530,"stop":1741915970530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1741915970530,"stop":1741915971006,"duration":476},"status":"passed","steps":[],"attachments":[{"uid":"50e018b72777afba","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"50e018b72777afba.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1741915971007,"stop":1741915976581,"duration":5574},"status":"passed","steps":[],"attachments":[{"uid":"3177b0e802368644","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"3177b0e802368644.txt","type":"text/plain","size":15123},{"uid":"e5b9708970d3057e","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"e5b9708970d3057e.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1741915976582,"stop":1741915977047,"duration":465},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"e7198c6f013d7520","name":"Step: [the user is redirected on Checkout completing the payment]: on sessionId: [54c2fff5-0ea5-4a3b-9fce-1d64621160c7] - Received response","source":"e7198c6f013d7520.txt","type":"text/plain","size":5807},{"uid":"e8aec7d6822ea607","name":"Received response","source":"e8aec7d6822ea607.attach","type":"text/html","size":5677}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1741915977048,"stop":1741915977048,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":35,"broken":0,"skipped":0,"passed":39,"unknown":0,"total":74},"items":[{"uid":"622222ed30881503","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/379//#testresult/622222ed30881503","status":"passed","time":{"start":1741829621270,"stop":1741829649811,"duration":28541}},{"uid":"b7aeb6364d66ed83","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/378//#testresult/b7aeb6364d66ed83","status":"passed","time":{"start":1741743227835,"stop":1741743257433,"duration":29598}},{"uid":"daf02a6a854ee203","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/377//#testresult/daf02a6a854ee203","status":"passed","time":{"start":1741656837826,"stop":1741656871127,"duration":33301}},{"uid":"dbed35857678fc73","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/376//#testresult/dbed35857678fc73","status":"passed","time":{"start":1741570349506,"stop":1741570377980,"duration":28474}},{"uid":"b4a22faf650a4bc5","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/375//#testresult/b4a22faf650a4bc5","status":"passed","time":{"start":1741483932052,"stop":1741483961080,"duration":29028}},{"uid":"de2665fe2c7583f3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/374//#testresult/de2665fe2c7583f3","status":"passed","time":{"start":1741397458946,"stop":1741397489281,"duration":30335}},{"uid":"eaeb26483bf63b58","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/373//#testresult/eaeb26483bf63b58","status":"passed","time":{"start":1741311224393,"stop":1741311257460,"duration":33067}},{"uid":"2f9d9085cee00688","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/372//#testresult/2f9d9085cee00688","status":"passed","time":{"start":1741224829274,"stop":1741224862928,"duration":33654}},{"uid":"31a1b610b24880b9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/371//#testresult/31a1b610b24880b9","status":"passed","time":{"start":1741138428432,"stop":1741138460700,"duration":32268}},{"uid":"281b681b8c49283f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/370//#testresult/281b681b8c49283f","status":"passed","time":{"start":1741086646767,"stop":1741086677016,"duration":30249}},{"uid":"8a15deb7f7808bde","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/369//#testresult/8a15deb7f7808bde","status":"passed","time":{"start":1741052037582,"stop":1741052071305,"duration":33723}},{"uid":"389562d95896e0a0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/368//#testresult/389562d95896e0a0","status":"passed","time":{"start":1740991713963,"stop":1740991742433,"duration":28470}},{"uid":"788e6dbe76ca8927","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/367//#testresult/788e6dbe76ca8927","status":"passed","time":{"start":1740965630782,"stop":1740965659469,"duration":28687}},{"uid":"292f05fa1cd892d1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/366//#testresult/292f05fa1cd892d1","status":"passed","time":{"start":1740879228569,"stop":1740879262030,"duration":33461}},{"uid":"6cccfc3f56f6f1b7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/365//#testresult/6cccfc3f56f6f1b7","status":"passed","time":{"start":1740792815497,"stop":1740792844232,"duration":28735}},{"uid":"6ed1101cb5d5fabe","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/364//#testresult/6ed1101cb5d5fabe","status":"failed","statusDetails":"AssertionError: There are not events with business process timer-delete.\n","time":{"start":1740706461440,"stop":1740706497568,"duration":36128}},{"uid":"bb870f4627b97a4e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/363//#testresult/bb870f4627b97a4e","status":"passed","time":{"start":1740620023468,"stop":1740620053206,"duration":29738}},{"uid":"a58db2039cb4090b","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/362//#testresult/a58db2039cb4090b","status":"passed","time":{"start":1740533619266,"stop":1740533649566,"duration":30300}},{"uid":"809f06143d3b4e96","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/361//#testresult/809f06143d3b4e96","status":"passed","time":{"start":1740447211254,"stop":1740447242136,"duration":30882}},{"uid":"ef647f83ae1c49c3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/360//#testresult/ef647f83ae1c49c3","status":"passed","time":{"start":1740360823907,"stop":1740360853631,"duration":29724}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"53f208cde9cc787a.json","parameterValues":[]}