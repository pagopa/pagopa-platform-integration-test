{"uid":"1127a8c2c2db8cec","name":"User tries to pay a cart with single RPT that exists already in GPD in invalid state","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User tries to pay a cart with single RPT that exists already in GPD in invalid state","historyId":"d1e5d0a2dd446f0c2e29dbdd57b4fd36","time":{"start":1741915992085,"stop":1741916001935,"duration":9850},"status":"failed","statusMessage":"AssertionError: There is no error matching the one searched in the field_name: operation_error_code\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 235, in debt_position_invalid\n    steputils.check_debt_position_invalid_and_sent_ko_receipt(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 959, in check_debt_position_invalid_and_sent_ko_receipt\n    raise AssertionError('There is no error matching the one searched in the field_name: operation_error_code')\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: There is no error matching the one searched in the field_name: operation_error_code\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 235, in debt_position_invalid\n    steputils.check_debt_position_invalid_and_sent_ko_receipt(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 959, in check_debt_position_invalid_and_sent_ko_receipt\n    raise AssertionError('There is no error matching the one searched in the field_name: operation_error_code')\n","steps":[{"name":"Given systems up","time":{"start":1741915992085,"stop":1741915992940,"duration":855},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1741915992940,"stop":1741915992940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1741915992940,"stop":1741915992941,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to DRAFT","time":{"start":1741915992941,"stop":1741915993403,"duration":462},"status":"passed","steps":[],"attachments":[{"uid":"39602fc0545559c1","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to DRAFT] - Sent request","source":"39602fc0545559c1.txt","type":"text/plain","size":1260}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1741915993404,"stop":1741915998895,"duration":5491},"status":"passed","steps":[],"attachments":[{"uid":"f18f9baa1f5a395c","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"f18f9baa1f5a395c.txt","type":"text/plain","size":8198},{"uid":"dda8433d8c49ec0a","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"dda8433d8c49ec0a.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then conversion to new model fails in wisp-converter","time":{"start":1741915998895,"stop":1741915999348,"duration":453},"status":"passed","steps":[],"attachments":[{"uid":"1fabcb99c80c429a","name":"Step: [conversion to new model fails in wisp-converter]: on sessionId: [2e3ff5e8-369b-415c-9821-6daf11bf8df0] - Received response","source":"1fabcb99c80c429a.txt","type":"text/plain","size":5807},{"uid":"1fe5f7a3cc8b2478","name":"Received response","source":"1fe5f7a3cc8b2478.attach","type":"text/html","size":5677}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the KO receipt is sent","time":{"start":1741915999348,"stop":1741916001935,"duration":2587},"status":"failed","statusMessage":"AssertionError: There is no error matching the one searched in the field_name: operation_error_code\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 235, in debt_position_invalid\n    steputils.check_debt_position_invalid_and_sent_ko_receipt(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 959, in check_debt_position_invalid_and_sent_ko_receipt\n    raise AssertionError('There is no error matching the one searched in the field_name: operation_error_code')\n","steps":[],"attachments":[{"uid":"b807007f83fac26a","name":"Step: [the KO receipt is sent]: on IUV: [959371457127947] - Received response","source":"b807007f83fac26a.txt","type":"text/plain","size":11611}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":34,"broken":0,"skipped":0,"passed":40,"unknown":0,"total":74},"items":[{"uid":"e7aec54ad62016fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/379//#testresult/e7aec54ad62016fc","status":"passed","time":{"start":1741829706769,"stop":1741829711928,"duration":5159}},{"uid":"63bca6b80be025de","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/378//#testresult/63bca6b80be025de","status":"passed","time":{"start":1741743317336,"stop":1741743322604,"duration":5268}},{"uid":"b19b23bf454a95ef","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/377//#testresult/b19b23bf454a95ef","status":"passed","time":{"start":1741656939027,"stop":1741656945455,"duration":6428}},{"uid":"af0ca161bca9d1cb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/376//#testresult/af0ca161bca9d1cb","status":"passed","time":{"start":1741570435535,"stop":1741570440418,"duration":4883}},{"uid":"5502a9831b98d22a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/375//#testresult/5502a9831b98d22a","status":"passed","time":{"start":1741484017728,"stop":1741484022343,"duration":4615}},{"uid":"9850b2c394425e5e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/374//#testresult/9850b2c394425e5e","status":"passed","time":{"start":1741397549185,"stop":1741397555591,"duration":6406}},{"uid":"24179a3ec4c89839","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/373//#testresult/24179a3ec4c89839","status":"passed","time":{"start":1741311326063,"stop":1741311333092,"duration":7029}},{"uid":"3ea8e6334069c3ff","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/372//#testresult/3ea8e6334069c3ff","status":"passed","time":{"start":1741224930764,"stop":1741224937586,"duration":6822}},{"uid":"33c11d6f5b8596a4","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/371//#testresult/33c11d6f5b8596a4","status":"passed","time":{"start":1741138525985,"stop":1741138531939,"duration":5954}},{"uid":"faccabd9d32b9190","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/370//#testresult/faccabd9d32b9190","status":"passed","time":{"start":1741086736591,"stop":1741086741584,"duration":4993}},{"uid":"19dfd9156df3a36f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/369//#testresult/19dfd9156df3a36f","status":"passed","time":{"start":1741052139234,"stop":1741052145672,"duration":6438}},{"uid":"888016a20422e4ba","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/368//#testresult/888016a20422e4ba","status":"passed","time":{"start":1740991799557,"stop":1740991804355,"duration":4798}},{"uid":"33ac4c9146fbb984","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/367//#testresult/33ac4c9146fbb984","status":"passed","time":{"start":1740965716971,"stop":1740965721844,"duration":4873}},{"uid":"eb6fb026007f2852","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/366//#testresult/eb6fb026007f2852","status":"passed","time":{"start":1740879331168,"stop":1740879337513,"duration":6345}},{"uid":"5d672e46999417d2","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/365//#testresult/5d672e46999417d2","status":"passed","time":{"start":1740792901039,"stop":1740792905810,"duration":4771}},{"uid":"c1502df11a725df9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/364//#testresult/c1502df11a725df9","status":"passed","time":{"start":1740706647965,"stop":1740706711195,"duration":63230}},{"uid":"4b12d3c05ab391f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/363//#testresult/4b12d3c05ab391f","status":"passed","time":{"start":1740620114692,"stop":1740620121631,"duration":6939}},{"uid":"f85aeee91b382836","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/362//#testresult/f85aeee91b382836","status":"passed","time":{"start":1740533711104,"stop":1740533717728,"duration":6624}},{"uid":"77aee3ffa74be075","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/361//#testresult/77aee3ffa74be075","status":"passed","time":{"start":1740447302966,"stop":1740447308806,"duration":5840}},{"uid":"b8acf7eb2bfb530","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/360//#testresult/b8acf7eb2bfb530","status":"passed","time":{"start":1740360912378,"stop":1740360918081,"duration":5703}}]},"tags":["runnable","nodo_invia_carrello_rpt","unhappy_path"]},"source":"1127a8c2c2db8cec.json","parameterValues":[]}