{"uid":"3b0dfdc28eb2e86c","name":"User pays a cart with single RPT without stamp that exists already in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with single RPT without stamp that exists already in GPD","historyId":"044be0da7076e3bb06270fb16271119a","time":{"start":1741915946856,"stop":1741915954833,"duration":7977},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1741915946857,"stop":1741915948016,"duration":1159},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1741915948016,"stop":1741915948016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1741915948016,"stop":1741915948017,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1741915948017,"stop":1741915948567,"duration":550},"status":"passed","steps":[],"attachments":[{"uid":"f455c6409b89deec","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"f455c6409b89deec.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1741915948567,"stop":1741915954371,"duration":5804},"status":"passed","steps":[],"attachments":[{"uid":"9f07767643d846d0","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"9f07767643d846d0.txt","type":"text/plain","size":8198},{"uid":"fae934574e3d831b","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"fae934574e3d831b.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1741915954371,"stop":1741915954832,"duration":461},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"6dd534ecc604ddbb","name":"Step: [the user is redirected on Checkout completing the payment]: on sessionId: [a36141f7-238d-49bc-b908-8ec16cce6559] - Received response","source":"6dd534ecc604ddbb.txt","type":"text/plain","size":5807},{"uid":"ab65497659d3bd16","name":"Received response","source":"ab65497659d3bd16.attach","type":"text/html","size":5677}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1741915954833,"stop":1741915954833,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":35,"broken":0,"skipped":0,"passed":39,"unknown":0,"total":74},"items":[{"uid":"fafb5ceedfad3766","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/379//#testresult/fafb5ceedfad3766","status":"passed","time":{"start":1741829541969,"stop":1741829569745,"duration":27776}},{"uid":"d4172d7231aca6ff","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/378//#testresult/d4172d7231aca6ff","status":"passed","time":{"start":1741743142141,"stop":1741743172356,"duration":30215}},{"uid":"5ab27060b52c95fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/377//#testresult/5ab27060b52c95fc","status":"passed","time":{"start":1741656744593,"stop":1741656778513,"duration":33920}},{"uid":"2c994140ef3cd9d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/376//#testresult/2c994140ef3cd9d","status":"passed","time":{"start":1741570270556,"stop":1741570299964,"duration":29408}},{"uid":"7a4e7bb4007d3c5c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/375//#testresult/7a4e7bb4007d3c5c","status":"passed","time":{"start":1741483844501,"stop":1741483876825,"duration":32324}},{"uid":"f8f9c715f8605805","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/374//#testresult/f8f9c715f8605805","status":"passed","time":{"start":1741397377478,"stop":1741397405480,"duration":28002}},{"uid":"fe3355202e8e6342","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/373//#testresult/fe3355202e8e6342","status":"passed","time":{"start":1741311133005,"stop":1741311165222,"duration":32217}},{"uid":"6e1dc71ea979947e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/372//#testresult/6e1dc71ea979947e","status":"passed","time":{"start":1741224738070,"stop":1741224770714,"duration":32644}},{"uid":"fb2ea6b17becee5c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/371//#testresult/fb2ea6b17becee5c","status":"passed","time":{"start":1741138340719,"stop":1741138371405,"duration":30686}},{"uid":"8abffeeb0f68f32d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/370//#testresult/8abffeeb0f68f32d","status":"passed","time":{"start":1741086563475,"stop":1741086590847,"duration":27372}},{"uid":"933d1eabe0ec2f57","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/369//#testresult/933d1eabe0ec2f57","status":"passed","time":{"start":1741051941458,"stop":1741051976315,"duration":34857}},{"uid":"d1c47c944b4b8cf9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/368//#testresult/d1c47c944b4b8cf9","status":"passed","time":{"start":1740991635996,"stop":1740991662496,"duration":26500}},{"uid":"417406f4a3b143dc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/367//#testresult/417406f4a3b143dc","status":"passed","time":{"start":1740965550650,"stop":1740965581719,"duration":31069}},{"uid":"e605a158432eb9fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/366//#testresult/e605a158432eb9fc","status":"passed","time":{"start":1740879133877,"stop":1740879167895,"duration":34018}},{"uid":"4788a1d1ada633e0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/365//#testresult/4788a1d1ada633e0","status":"passed","time":{"start":1740792737030,"stop":1740792763970,"duration":26940}},{"uid":"1b94557ba87f2d49","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/364//#testresult/1b94557ba87f2d49","status":"failed","statusDetails":"AssertionError: There are not events with business process receipt-ok.\n","time":{"start":1740706340391,"stop":1740706372433,"duration":32042}},{"uid":"dd62c16de2734ab9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/363//#testresult/dd62c16de2734ab9","status":"passed","time":{"start":1740619940995,"stop":1740619969709,"duration":28714}},{"uid":"f1424957ab0a2f68","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/362//#testresult/f1424957ab0a2f68","status":"passed","time":{"start":1740533534554,"stop":1740533564469,"duration":29915}},{"uid":"1dd41e217a58040c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/361//#testresult/1dd41e217a58040c","status":"passed","time":{"start":1740447129691,"stop":1740447157506,"duration":27815}},{"uid":"5f79a6e228dcd9ac","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/360//#testresult/5f79a6e228dcd9ac","status":"passed","time":{"start":1740360739599,"stop":1740360770890,"duration":31291}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"3b0dfdc28eb2e86c.json","parameterValues":[]}