{"uid":"f308b152830ff4df","name":"User pays a cart with single RPT with multiple transfers that exists already in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with single RPT with multiple transfers that exists already in GPD","historyId":"c8d6ddc3bca0964a71fd7a7388d29b2a","time":{"start":1741915954833,"stop":1741915962224,"duration":7391},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1741915954834,"stop":1741915955721,"duration":887},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1741915955721,"stop":1741915955721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 3 transfers of which none are stamps","time":{"start":1741915955721,"stop":1741915955721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1741915955721,"stop":1741915956280,"duration":559},"status":"passed","steps":[],"attachments":[{"uid":"85c34cf281cca47e","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"85c34cf281cca47e.txt","type":"text/plain","size":1908}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1741915956280,"stop":1741915961771,"duration":5491},"status":"passed","steps":[],"attachments":[{"uid":"fa32a6108191c948","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"fa32a6108191c948.txt","type":"text/plain","size":10278},{"uid":"19b448dae2bad6b9","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"19b448dae2bad6b9.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1741915961771,"stop":1741915962223,"duration":452},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 835, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 18, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"1c09b8aeeff55fe1","name":"Step: [the user is redirected on Checkout completing the payment]: on sessionId: [4f2f22f7-d215-43f3-a8d7-a4c75011ba58] - Received response","source":"1c09b8aeeff55fe1.txt","type":"text/plain","size":5807},{"uid":"d9954b5ae738f72b","name":"Received response","source":"d9954b5ae738f72b.attach","type":"text/html","size":5677}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1741915962224,"stop":1741915962224,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":34,"broken":0,"skipped":0,"passed":40,"unknown":0,"total":74},"items":[{"uid":"f64a6be7c332f6ec","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/379//#testresult/f64a6be7c332f6ec","status":"passed","time":{"start":1741829569746,"stop":1741829595378,"duration":25632}},{"uid":"331bd3bd43c91587","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/378//#testresult/331bd3bd43c91587","status":"passed","time":{"start":1741743172356,"stop":1741743200649,"duration":28293}},{"uid":"9dee9afc9ecd7da3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/377//#testresult/9dee9afc9ecd7da3","status":"passed","time":{"start":1741656778514,"stop":1741656808348,"duration":29834}},{"uid":"1901dae22d50d8f0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/376//#testresult/1901dae22d50d8f0","status":"passed","time":{"start":1741570299965,"stop":1741570326312,"duration":26347}},{"uid":"58ad55e8e65d14e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/375//#testresult/58ad55e8e65d14e","status":"passed","time":{"start":1741483876826,"stop":1741483904998,"duration":28172}},{"uid":"39b91247c7f668f9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/374//#testresult/39b91247c7f668f9","status":"passed","time":{"start":1741397405481,"stop":1741397432473,"duration":26992}},{"uid":"1690e3420eee4d3e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/373//#testresult/1690e3420eee4d3e","status":"passed","time":{"start":1741311165223,"stop":1741311195070,"duration":29847}},{"uid":"bf1b7cce85529e25","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/372//#testresult/bf1b7cce85529e25","status":"passed","time":{"start":1741224770715,"stop":1741224800186,"duration":29471}},{"uid":"af54ed63c26d2b20","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/371//#testresult/af54ed63c26d2b20","status":"passed","time":{"start":1741138371406,"stop":1741138399850,"duration":28444}},{"uid":"90335d4ed7e8a923","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/370//#testresult/90335d4ed7e8a923","status":"passed","time":{"start":1741086590848,"stop":1741086618861,"duration":28013}},{"uid":"9bb09d68566fbea0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/369//#testresult/9bb09d68566fbea0","status":"passed","time":{"start":1741051976316,"stop":1741052006314,"duration":29998}},{"uid":"500e0c0b21c944ea","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/368//#testresult/500e0c0b21c944ea","status":"passed","time":{"start":1740991662497,"stop":1740991688350,"duration":25853}},{"uid":"463456826eb495f1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/367//#testresult/463456826eb495f1","status":"passed","time":{"start":1740965581720,"stop":1740965608090,"duration":26370}},{"uid":"d3d1fb4a5c22ba0e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/366//#testresult/d3d1fb4a5c22ba0e","status":"passed","time":{"start":1740879167896,"stop":1740879198770,"duration":30874}},{"uid":"7d55393049bd217b","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/365//#testresult/7d55393049bd217b","status":"passed","time":{"start":1740792763971,"stop":1740792789992,"duration":26021}},{"uid":"632410f1da1085b6","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/364//#testresult/632410f1da1085b6","status":"passed","time":{"start":1740706372433,"stop":1740706416303,"duration":43870}},{"uid":"e2d839d2554d8eb3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/363//#testresult/e2d839d2554d8eb3","status":"passed","time":{"start":1740619969709,"stop":1740619996798,"duration":27089}},{"uid":"d7c17abcd27dbb44","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/362//#testresult/d7c17abcd27dbb44","status":"passed","time":{"start":1740533564470,"stop":1740533592046,"duration":27576}},{"uid":"8864c0d836b2756d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/361//#testresult/8864c0d836b2756d","status":"passed","time":{"start":1740447157507,"stop":1740447184257,"duration":26750}},{"uid":"268aa55a585ab69c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/360//#testresult/268aa55a585ab69c","status":"passed","time":{"start":1740360770891,"stop":1740360797812,"duration":26921}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"f308b152830ff4df.json","parameterValues":[]}