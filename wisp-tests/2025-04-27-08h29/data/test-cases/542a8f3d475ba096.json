{
  "uid" : "542a8f3d475ba096",
  "name" : "User tries to pay a cart with single RPT that exists already in GPD in invalid state",
  "fullName" : "User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User tries to pay a cart with single RPT that exists already in GPD in invalid state",
  "historyId" : "d1e5d0a2dd446f0c2e29dbdd57b4fd36",
  "time" : {
    "start" : 1745742511847,
    "stop" : 1745742512672,
    "duration" : 825
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
  "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
  "flaky" : false,
  "newFailed" : true,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
    "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
    "steps" : [ {
      "name" : "Given systems up",
      "time" : {
        "start" : 1745742511847,
        "stop" : 1745742512671,
        "duration" : 824
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
      "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    }, {
      "name" : "Given a cart of RPTs non-multibeneficiary",
      "time" : {
        "start" : 1745742512672,
        "stop" : 1745742512672,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And a single RPT of type BBT with 1 transfers of which none are stamps",
      "time" : {
        "start" : 1745742512672,
        "stop" : 1745742512672,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And an existing payment position related to first RPT with segregation code equals to 48 and state equals to DRAFT",
      "time" : {
        "start" : 1745742512672,
        "stop" : 1745742512672,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "When the user tries to pay a cart of RPTs on EC website",
      "time" : {
        "start" : 1745742512672,
        "stop" : 1745742512672,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Then conversion to new model fails in wisp-converter",
      "time" : {
        "start" : 1745742512672,
        "stop" : 1745742512672,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And the KO receipt is sent",
      "time" : {
        "start" : 1745742512672,
        "stop" : 1745742512672,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 7,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "severity",
    "value" : "normal"
  }, {
    "name" : "tag",
    "value" : "nodo_invia_carrello_rpt"
  }, {
    "name" : "tag",
    "value" : "runnable"
  }, {
    "name" : "tag",
    "value" : "unhappy_path"
  }, {
    "name" : "feature",
    "value" : "User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"
  }, {
    "name" : "framework",
    "value" : "behave"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 35,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 85,
        "unknown" : 0,
        "total" : 120
      },
      "items" : [ {
        "uid" : "3aa4e7584ec1db2",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/429//#testresult/3aa4e7584ec1db2",
        "status" : "passed",
        "time" : {
          "start" : 1745717739812,
          "stop" : 1745717745619,
          "duration" : 5807
        }
      }, {
        "uid" : "f5409416e05ad166",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/424//#testresult/f5409416e05ad166",
        "status" : "passed",
        "time" : {
          "start" : 1745631313934,
          "stop" : 1745631320285,
          "duration" : 6351
        }
      }, {
        "uid" : "4fd23165fed81b69",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/423//#testresult/4fd23165fed81b69",
        "status" : "passed",
        "time" : {
          "start" : 1745544942688,
          "stop" : 1745544948364,
          "duration" : 5676
        }
      }, {
        "uid" : "f28ee887c11db99f",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/422//#testresult/f28ee887c11db99f",
        "status" : "passed",
        "time" : {
          "start" : 1745458544994,
          "stop" : 1745458550552,
          "duration" : 5558
        }
      }, {
        "uid" : "175fbfb8c6bbecbc",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/421//#testresult/175fbfb8c6bbecbc",
        "status" : "passed",
        "time" : {
          "start" : 1745372159675,
          "stop" : 1745372166036,
          "duration" : 6361
        }
      }, {
        "uid" : "aba06d4e0f867a77",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/420//#testresult/aba06d4e0f867a77",
        "status" : "passed",
        "time" : {
          "start" : 1745285749162,
          "stop" : 1745285754740,
          "duration" : 5578
        }
      }, {
        "uid" : "d40b181e7eb337da",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/419//#testresult/d40b181e7eb337da",
        "status" : "passed",
        "time" : {
          "start" : 1745199370656,
          "stop" : 1745199376938,
          "duration" : 6282
        }
      }, {
        "uid" : "f83083d777a3f7e6",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/418//#testresult/f83083d777a3f7e6",
        "status" : "passed",
        "time" : {
          "start" : 1745112922737,
          "stop" : 1745112927957,
          "duration" : 5220
        }
      }, {
        "uid" : "65060d960e65e3b4",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/417//#testresult/65060d960e65e3b4",
        "status" : "passed",
        "time" : {
          "start" : 1745026520310,
          "stop" : 1745026526626,
          "duration" : 6316
        }
      }, {
        "uid" : "129b38dbc907c3fc",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/416//#testresult/129b38dbc907c3fc",
        "status" : "passed",
        "time" : {
          "start" : 1744940123818,
          "stop" : 1744940128566,
          "duration" : 4748
        }
      }, {
        "uid" : "fbb86c6248f8f586",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/415//#testresult/fbb86c6248f8f586",
        "status" : "passed",
        "time" : {
          "start" : 1744853721826,
          "stop" : 1744853727932,
          "duration" : 6106
        }
      }, {
        "uid" : "5dfe0c744ff3dc73",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/414//#testresult/5dfe0c744ff3dc73",
        "status" : "passed",
        "time" : {
          "start" : 1744806531421,
          "stop" : 1744806537822,
          "duration" : 6401
        }
      }, {
        "uid" : "f765038a6af37fc",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/413//#testresult/f765038a6af37fc",
        "status" : "passed",
        "time" : {
          "start" : 1744767357122,
          "stop" : 1744767362250,
          "duration" : 5128
        }
      }, {
        "uid" : "fb2c394ab4b4e551",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/412//#testresult/fb2c394ab4b4e551",
        "status" : "passed",
        "time" : {
          "start" : 1744680960439,
          "stop" : 1744680966810,
          "duration" : 6371
        }
      }, {
        "uid" : "a4c65d744734226c",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/411//#testresult/a4c65d744734226c",
        "status" : "passed",
        "time" : {
          "start" : 1744594539685,
          "stop" : 1744594544780,
          "duration" : 5095
        }
      }, {
        "uid" : "b949b94e601c35c3",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/410//#testresult/b949b94e601c35c3",
        "status" : "passed",
        "time" : {
          "start" : 1744509233895,
          "stop" : 1744509239532,
          "duration" : 5637
        }
      }, {
        "uid" : "581e2c8404a99dc4",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/409//#testresult/581e2c8404a99dc4",
        "status" : "passed",
        "time" : {
          "start" : 1744421683817,
          "stop" : 1744421688447,
          "duration" : 4630
        }
      }, {
        "uid" : "d1e248b97bb493b4",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/408//#testresult/d1e248b97bb493b4",
        "status" : "passed",
        "time" : {
          "start" : 1744335330534,
          "stop" : 1744335335531,
          "duration" : 4997
        }
      }, {
        "uid" : "f19de46e8fa0d9a3",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/407//#testresult/f19de46e8fa0d9a3",
        "status" : "passed",
        "time" : {
          "start" : 1744248916944,
          "stop" : 1744248921637,
          "duration" : 4693
        }
      }, {
        "uid" : "9a01f34643684f2c",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/406//#testresult/9a01f34643684f2c",
        "status" : "passed",
        "time" : {
          "start" : 1744162503692,
          "stop" : 1744162508327,
          "duration" : 4635
        }
      } ]
    },
    "tags" : [ "runnable", "nodo_invia_carrello_rpt", "unhappy_path" ]
  },
  "source" : "542a8f3d475ba096.json",
  "parameterValues" : [ ]
}