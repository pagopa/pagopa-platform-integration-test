{
  "uid" : "412fdf9dfe8cd7fa",
  "name" : "User tries to pay a cart with two RPTs but the payment closure fails, then tries again successfully",
  "fullName" : "User pays a payment carts without stamps on nodoInviaCarrelloRPT: User tries to pay a cart with two RPTs but the payment closure fails, then tries again successfully",
  "historyId" : "8f7bec8e2290f1fed21601114f61a466",
  "time" : {
    "start" : 1745742534715,
    "stop" : 1745742535434,
    "duration" : 719
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
  "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
  "flaky" : false,
  "newFailed" : true,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
    "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
    "steps" : [ {
      "name" : "Given systems up",
      "time" : {
        "start" : 1745742534716,
        "stop" : 1745742535433,
        "duration" : 717
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: health-check systems or subscription-key errors\n",
      "statusTrace" : "  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.3/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/healthcheck.py\", line 27, in system_up\n    assert responses, f'health-check systems or subscription-key errors'\n           ^^^^^^^^^\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    }, {
      "name" : "Given a cart of RPTs non-multibeneficiary",
      "time" : {
        "start" : 1745742535433,
        "stop" : 1745742535433,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And a single RPT of type BBT with 1 transfers of which none are stamps",
      "time" : {
        "start" : 1745742535433,
        "stop" : 1745742535433,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And a single RPT of type BBT with 1 transfers of which none are stamps",
      "time" : {
        "start" : 1745742535433,
        "stop" : 1745742535434,
        "duration" : 1
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And the user tries to pay a cart of RPTs on EC website",
      "time" : {
        "start" : 1745742535434,
        "stop" : 1745742535434,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And the user is redirected on Checkout not completing the multibeneficiary payment",
      "time" : {
        "start" : 1745742535434,
        "stop" : 1745742535434,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "When the user tries to pay a cart of RPTs on EC website",
      "time" : {
        "start" : 1745742535434,
        "stop" : 1745742535434,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Then the user is redirected on Checkout completing the multibeneficiary payment",
      "time" : {
        "start" : 1745742535434,
        "stop" : 1745742535434,
        "duration" : 0
      },
      "status" : "skipped",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 8,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "severity",
    "value" : "normal"
  }, {
    "name" : "tag",
    "value" : "happy_path"
  }, {
    "name" : "tag",
    "value" : "nodo_invia_carrello_rpt"
  }, {
    "name" : "tag",
    "value" : "runnable"
  }, {
    "name" : "feature",
    "value" : "User pays a payment carts without stamps on nodoInviaCarrelloRPT"
  }, {
    "name" : "framework",
    "value" : "behave"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 37,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 83,
        "unknown" : 0,
        "total" : 120
      },
      "items" : [ {
        "uid" : "cdd49fcfb6422618",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/429//#testresult/cdd49fcfb6422618",
        "status" : "passed",
        "time" : {
          "start" : 1745718217928,
          "stop" : 1745718272302,
          "duration" : 54374
        }
      }, {
        "uid" : "d7b3744698fb6e4",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/424//#testresult/d7b3744698fb6e4",
        "status" : "passed",
        "time" : {
          "start" : 1745631817803,
          "stop" : 1745631875965,
          "duration" : 58162
        }
      }, {
        "uid" : "90f008eb55f0d5f7",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/423//#testresult/90f008eb55f0d5f7",
        "status" : "passed",
        "time" : {
          "start" : 1745545383034,
          "stop" : 1745545433706,
          "duration" : 50672
        }
      }, {
        "uid" : "c67798224195227c",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/422//#testresult/c67798224195227c",
        "status" : "passed",
        "time" : {
          "start" : 1745458980568,
          "stop" : 1745459031247,
          "duration" : 50679
        }
      }, {
        "uid" : "6ae1fbacdc45b590",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/421//#testresult/6ae1fbacdc45b590",
        "status" : "passed",
        "time" : {
          "start" : 1745372661808,
          "stop" : 1745372718559,
          "duration" : 56751
        }
      }, {
        "uid" : "9951be988419e6d9",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/420//#testresult/9951be988419e6d9",
        "status" : "passed",
        "time" : {
          "start" : 1745286187033,
          "stop" : 1745286237364,
          "duration" : 50331
        }
      }, {
        "uid" : "272fa7a94d3d5060",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/419//#testresult/272fa7a94d3d5060",
        "status" : "passed",
        "time" : {
          "start" : 1745199873295,
          "stop" : 1745199930253,
          "duration" : 56958
        }
      }, {
        "uid" : "9a02fcc88908ddff",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/418//#testresult/9a02fcc88908ddff",
        "status" : "passed",
        "time" : {
          "start" : 1745113341051,
          "stop" : 1745113389532,
          "duration" : 48481
        }
      }, {
        "uid" : "b0be4de889395427",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/417//#testresult/b0be4de889395427",
        "status" : "passed",
        "time" : {
          "start" : 1745027020988,
          "stop" : 1745027077634,
          "duration" : 56646
        }
      }, {
        "uid" : "b14458c1282c655d",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/416//#testresult/b14458c1282c655d",
        "status" : "passed",
        "time" : {
          "start" : 1744940542570,
          "stop" : 1744940591194,
          "duration" : 48624
        }
      }, {
        "uid" : "9570709e6b54c1c6",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/415//#testresult/9570709e6b54c1c6",
        "status" : "passed",
        "time" : {
          "start" : 1744854156960,
          "stop" : 1744854207125,
          "duration" : 50165
        }
      }, {
        "uid" : "e8f250d71350f282",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/414//#testresult/e8f250d71350f282",
        "status" : "passed",
        "time" : {
          "start" : 1744806953423,
          "stop" : 1744807001781,
          "duration" : 48358
        }
      }, {
        "uid" : "7f9cdd8abde7856a",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/413//#testresult/7f9cdd8abde7856a",
        "status" : "passed",
        "time" : {
          "start" : 1744767796218,
          "stop" : 1744767846997,
          "duration" : 50779
        }
      }, {
        "uid" : "3053f4657be25bbc",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/412//#testresult/3053f4657be25bbc",
        "status" : "passed",
        "time" : {
          "start" : 1744681464877,
          "stop" : 1744681525008,
          "duration" : 60131
        }
      }, {
        "uid" : "fb06d5aeb01d9ec8",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/411//#testresult/fb06d5aeb01d9ec8",
        "status" : "passed",
        "time" : {
          "start" : 1744594977176,
          "stop" : 1744595027584,
          "duration" : 50408
        }
      }, {
        "uid" : "c6e89d1468e98596",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/410//#testresult/c6e89d1468e98596",
        "status" : "passed",
        "time" : {
          "start" : 1744509673305,
          "stop" : 1744509723872,
          "duration" : 50567
        }
      }, {
        "uid" : "95a56b9f2debabee",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/409//#testresult/95a56b9f2debabee",
        "status" : "passed",
        "time" : {
          "start" : 1744422097665,
          "stop" : 1744422146422,
          "duration" : 48757
        }
      }, {
        "uid" : "d119a2bbed4c46bf",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/408//#testresult/d119a2bbed4c46bf",
        "status" : "passed",
        "time" : {
          "start" : 1744335767255,
          "stop" : 1744335817871,
          "duration" : 50616
        }
      }, {
        "uid" : "51be409b89c2c05a",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/407//#testresult/51be409b89c2c05a",
        "status" : "passed",
        "time" : {
          "start" : 1744249343831,
          "stop" : 1744249392519,
          "duration" : 48688
        }
      }, {
        "uid" : "8dd4f5bb75fffd0",
        "reportUrl" : "https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/406//#testresult/8dd4f5bb75fffd0",
        "status" : "passed",
        "time" : {
          "start" : 1744162919178,
          "stop" : 1744162967702,
          "duration" : 48524
        }
      } ]
    },
    "tags" : [ "runnable", "nodo_invia_carrello_rpt", "happy_path" ]
  },
  "source" : "412fdf9dfe8cd7fa.json",
  "parameterValues" : [ ]
}