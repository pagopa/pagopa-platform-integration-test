{"uid":"6ed1101cb5d5fabe","name":"User pays a cart with two RPTs without stamp of which one already exists in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with two RPTs without stamp of which one already exists in GPD","historyId":"ce26fea19cdeea993eaa1b427c38d67e","time":{"start":1740706461440,"stop":1740706497568,"duration":36128},"status":"failed","statusMessage":"AssertionError: There are not events with business process timer-delete.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 892, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'timer-delete', 'status', 'PAYMENT_TOKEN_TIMER_DELETION_PROCESSED')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: There are not events with business process timer-delete.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 892, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'timer-delete', 'status', 'PAYMENT_TOKEN_TIMER_DELETION_PROCESSED')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1740706461440,"stop":1740706463025,"duration":1585},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1740706463025,"stop":1740706463025,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1740706463025,"stop":1740706463025,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1740706463025,"stop":1740706463026,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1740706463026,"stop":1740706463686,"duration":660},"status":"passed","steps":[],"attachments":[{"uid":"dd9640e84c7ff5ee","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"dd9640e84c7ff5ee.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1740706463686,"stop":1740706465110,"duration":1424},"status":"passed","steps":[],"attachments":[{"uid":"6d9ea98336758552","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"6d9ea98336758552.txt","type":"text/plain","size":15123},{"uid":"1e5db207125d25cb","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"1e5db207125d25cb.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1740706465111,"stop":1740706497567,"duration":32456},"status":"failed","statusMessage":"AssertionError: There are not events with business process timer-delete.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 892, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'timer-delete', 'status', 'PAYMENT_TOKEN_TIMER_DELETION_PROCESSED')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"db76019a354df769","name":"Received response","source":"db76019a354df769.attach","type":"text/plain","size":131},{"uid":"84653e9e01215352","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [501838691260991] - Received response","source":"84653e9e01215352.txt","type":"text/plain","size":43903},{"uid":"c4fad062ead11f7f","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"c4fad062ead11f7f.txt","type":"text/plain","size":232},{"uid":"ffed5375493b4bd7","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"ffed5375493b4bd7.txt","type":"text/plain","size":354},{"uid":"782954a65e18d505","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"782954a65e18d505.txt","type":"text/plain","size":821},{"uid":"a75b07373785ca28","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"a75b07373785ca28.txt","type":"text/plain","size":952},{"uid":"d6c3d1030cbee213","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"d6c3d1030cbee213.txt","type":"text/plain","size":821},{"uid":"eed7ef51783083d6","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"eed7ef51783083d6.txt","type":"text/plain","size":953},{"uid":"b681093e6f5b3d9d","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [501838691260991] - Received response","source":"b681093e6f5b3d9d.txt","type":"text/plain","size":48595},{"uid":"88813b2f8941c8b0","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"88813b2f8941c8b0.txt","type":"text/plain","size":1288},{"uid":"91e666ea60a442bc","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"91e666ea60a442bc.txt","type":"text/plain","size":104},{"uid":"4d3379e6caad672c","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [501838691260991] - Received response","source":"4d3379e6caad672c.txt","type":"text/plain","size":48595},{"uid":"b570fdd6d8eb932b","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [560898935394415] - Received response","source":"b570fdd6d8eb932b.txt","type":"text/plain","size":48595}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1740706497568,"stop":1740706497568,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":16,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":34,"broken":0,"skipped":0,"passed":24,"unknown":0,"total":58},"items":[{"uid":"bb870f4627b97a4e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/363//#testresult/bb870f4627b97a4e","status":"passed","time":{"start":1740620023468,"stop":1740620053206,"duration":29738}},{"uid":"a58db2039cb4090b","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/362//#testresult/a58db2039cb4090b","status":"passed","time":{"start":1740533619266,"stop":1740533649566,"duration":30300}},{"uid":"809f06143d3b4e96","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/361//#testresult/809f06143d3b4e96","status":"passed","time":{"start":1740447211254,"stop":1740447242136,"duration":30882}},{"uid":"ef647f83ae1c49c3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/360//#testresult/ef647f83ae1c49c3","status":"passed","time":{"start":1740360823907,"stop":1740360853631,"duration":29724}},{"uid":"44155f6a78b79612","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/359//#testresult/44155f6a78b79612","status":"passed","time":{"start":1740274424269,"stop":1740274460314,"duration":36045}},{"uid":"807e4a1b7551bc59","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/358//#testresult/807e4a1b7551bc59","status":"passed","time":{"start":1740187978148,"stop":1740188006936,"duration":28788}},{"uid":"6e15d19349c661ec","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/357//#testresult/6e15d19349c661ec","status":"passed","time":{"start":1740101615941,"stop":1740101644663,"duration":28722}},{"uid":"79b72f8d3dcb8ba5","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/356//#testresult/79b72f8d3dcb8ba5","status":"passed","time":{"start":1740015219492,"stop":1740015248068,"duration":28576}},{"uid":"fe7cd71994634b4","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/355//#testresult/fe7cd71994634b4","status":"passed","time":{"start":1739928803026,"stop":1739928831889,"duration":28863}},{"uid":"f832cb3274978a8a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/354//#testresult/f832cb3274978a8a","status":"passed","time":{"start":1739842405297,"stop":1739842433840,"duration":28543}},{"uid":"3f29d753fa95ade7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/353//#testresult/3f29d753fa95ade7","status":"passed","time":{"start":1739756037633,"stop":1739756070537,"duration":32904}},{"uid":"ebb20ed02132058d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/352//#testresult/ebb20ed02132058d","status":"passed","time":{"start":1739669604575,"stop":1739669634911,"duration":30336}},{"uid":"bc285aaf4921fb47","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/351//#testresult/bc285aaf4921fb47","status":"passed","time":{"start":1739583195115,"stop":1739583228464,"duration":33349}},{"uid":"67fab6d705aba19d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/350//#testresult/67fab6d705aba19d","status":"passed","time":{"start":1739496790476,"stop":1739496820060,"duration":29584}},{"uid":"414f45dcd71a394e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/349//#testresult/414f45dcd71a394e","status":"passed","time":{"start":1739410388719,"stop":1739410416867,"duration":28148}},{"uid":"ecb1ad761a50b690","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/348//#testresult/ecb1ad761a50b690","status":"passed","time":{"start":1739323995554,"stop":1739324024586,"duration":29032}},{"uid":"fe03bea49258b0fe","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/347//#testresult/fe03bea49258b0fe","status":"passed","time":{"start":1739237613898,"stop":1739237645960,"duration":32062}},{"uid":"514dcd15c8e22a6d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/346//#testresult/514dcd15c8e22a6d","status":"passed","time":{"start":1739151218326,"stop":1739151250059,"duration":31733}},{"uid":"dd1a52687d5573ba","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/345//#testresult/dd1a52687d5573ba","status":"passed","time":{"start":1739064784086,"stop":1739064812065,"duration":27979}},{"uid":"fccc056becf9fc37","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/344//#testresult/fccc056becf9fc37","status":"passed","time":{"start":1738978376540,"stop":1738978405783,"duration":29243}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"6ed1101cb5d5fabe.json","parameterValues":[]}