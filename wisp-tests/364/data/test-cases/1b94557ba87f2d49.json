{"uid":"1b94557ba87f2d49","name":"User pays a cart with single RPT without stamp that exists already in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with single RPT without stamp that exists already in GPD","historyId":"044be0da7076e3bb06270fb16271119a","time":{"start":1740706340391,"stop":1740706372433,"duration":32042},"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1740706340392,"stop":1740706342101,"duration":1709},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1740706342102,"stop":1740706342102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1740706342102,"stop":1740706342103,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1740706342103,"stop":1740706343017,"duration":914},"status":"passed","steps":[],"attachments":[{"uid":"108a3a103067bff6","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"108a3a103067bff6.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1740706343018,"stop":1740706345213,"duration":2195},"status":"passed","steps":[],"attachments":[{"uid":"23445652ef2b2e2a","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"23445652ef2b2e2a.txt","type":"text/plain","size":8198},{"uid":"8cc673f815203c09","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"8cc673f815203c09.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1740706345213,"stop":1740706372432,"duration":27219},"status":"failed","statusMessage":"AssertionError: There are not events with business process receipt-ok.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.2/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 195, in user_redirected_to_checkout\n    steputils.check_wisp_session_timers_del_and_rts_were_sent(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 894, in check_wisp_session_timers_del_and_rts_were_sent\n    check_event(context, 'receipt-ok', 'status', 'RT_SEND_SUCCESS')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 400, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"dfe527d2f9b91060","name":"Received response","source":"dfe527d2f9b91060.attach","type":"text/plain","size":131},{"uid":"81d12bd7e235fa8c","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [702152934609492] - Received response","source":"81d12bd7e235fa8c.txt","type":"text/plain","size":29110},{"uid":"77dbada10b5d1406","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"77dbada10b5d1406.txt","type":"text/plain","size":167},{"uid":"77666a9fb4bd8bf0","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"77666a9fb4bd8bf0.txt","type":"text/plain","size":242},{"uid":"18bf9d9060503bd7","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"18bf9d9060503bd7.txt","type":"text/plain","size":821},{"uid":"934044e6fd724721","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"934044e6fd724721.txt","type":"text/plain","size":952},{"uid":"1fb9a1de4f8c903e","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [702152934609492] - Received response","source":"1fb9a1de4f8c903e.txt","type":"text/plain","size":31456},{"uid":"d371d8e06145384b","name":"Step: [the user is redirected on Checkout completing the payment] - Sent request","source":"d371d8e06145384b.txt","type":"text/plain","size":1253},{"uid":"d732e3211838494d","name":"Step: [the user is redirected on Checkout completing the payment] - Received response","source":"d732e3211838494d.txt","type":"text/plain","size":104},{"uid":"68daea76e9d7e5bc","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [702152934609492] - Received response","source":"68daea76e9d7e5bc.txt","type":"text/plain","size":34593}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1740706372433,"stop":1740706372433,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":34,"broken":0,"skipped":0,"passed":24,"unknown":0,"total":58},"items":[{"uid":"dd62c16de2734ab9","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/363//#testresult/dd62c16de2734ab9","status":"passed","time":{"start":1740619940995,"stop":1740619969709,"duration":28714}},{"uid":"f1424957ab0a2f68","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/362//#testresult/f1424957ab0a2f68","status":"passed","time":{"start":1740533534554,"stop":1740533564469,"duration":29915}},{"uid":"1dd41e217a58040c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/361//#testresult/1dd41e217a58040c","status":"passed","time":{"start":1740447129691,"stop":1740447157506,"duration":27815}},{"uid":"5f79a6e228dcd9ac","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/360//#testresult/5f79a6e228dcd9ac","status":"passed","time":{"start":1740360739599,"stop":1740360770890,"duration":31291}},{"uid":"d9d97ef9f0f1d4fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/359//#testresult/d9d97ef9f0f1d4fc","status":"passed","time":{"start":1740274324470,"stop":1740274363024,"duration":38554}},{"uid":"48747025e3cfdc22","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/358//#testresult/48747025e3cfdc22","status":"passed","time":{"start":1740187894451,"stop":1740187923327,"duration":28876}},{"uid":"cbedaac88f96d0c8","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/357//#testresult/cbedaac88f96d0c8","status":"passed","time":{"start":1740101534180,"stop":1740101563910,"duration":29730}},{"uid":"5fea8f8e50cc0342","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/356//#testresult/5fea8f8e50cc0342","status":"passed","time":{"start":1740015138933,"stop":1740015166821,"duration":27888}},{"uid":"4d7515a83f2843f4","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/355//#testresult/4d7515a83f2843f4","status":"passed","time":{"start":1739928722006,"stop":1739928750105,"duration":28099}},{"uid":"c152eac16626ce57","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/354//#testresult/c152eac16626ce57","status":"passed","time":{"start":1739842314937,"stop":1739842347386,"duration":32449}},{"uid":"86cfa002489b2729","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/353//#testresult/86cfa002489b2729","status":"passed","time":{"start":1739755944321,"stop":1739755976513,"duration":32192}},{"uid":"a3e004c04cd2f76d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/352//#testresult/a3e004c04cd2f76d","status":"passed","time":{"start":1739669517324,"stop":1739669547781,"duration":30457}},{"uid":"2c1ff7c11c248d47","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/351//#testresult/2c1ff7c11c248d47","status":"passed","time":{"start":1739583103405,"stop":1739583135945,"duration":32540}},{"uid":"b13d746783d1f353","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/350//#testresult/b13d746783d1f353","status":"passed","time":{"start":1739496709981,"stop":1739496737421,"duration":27440}},{"uid":"543f7616714a7141","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/349//#testresult/543f7616714a7141","status":"passed","time":{"start":1739410312903,"stop":1739410340089,"duration":27186}},{"uid":"a7cb5f29a4e8b283","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/348//#testresult/a7cb5f29a4e8b283","status":"passed","time":{"start":1739323914044,"stop":1739323943236,"duration":29192}},{"uid":"7cc270562590246f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/347//#testresult/7cc270562590246f","status":"passed","time":{"start":1739237521135,"stop":1739237557628,"duration":36493}},{"uid":"fb8bf02afc8d5698","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/346//#testresult/fb8bf02afc8d5698","status":"passed","time":{"start":1739151131870,"stop":1739151161944,"duration":30074}},{"uid":"fdd9559fd85fd16a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/345//#testresult/fdd9559fd85fd16a","status":"passed","time":{"start":1739064704382,"stop":1739064732644,"duration":28262}},{"uid":"21e37793379047d8","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/344//#testresult/21e37793379047d8","status":"passed","time":{"start":1738978294935,"stop":1738978324169,"duration":29234}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"1b94557ba87f2d49.json","parameterValues":[]}