{"uid":"2f1df1919df94f0a","name":"User pays a cart with two RPTs without stamp of which one already exists in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with two RPTs without stamp of which one already exists in GPD","historyId":"ce26fea19cdeea993eaa1b427c38d67e","time":{"start":1738114348197,"stop":1738114354889,"duration":6692},"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1738114348198,"stop":1738114349294,"duration":1096},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1738114349295,"stop":1738114349295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1738114349295,"stop":1738114349295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1738114349295,"stop":1738114349295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1738114349295,"stop":1738114349888,"duration":593},"status":"passed","steps":[],"attachments":[{"uid":"e4c35a9ae5dffd73","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"e4c35a9ae5dffd73.txt","type":"text/plain","size":1255}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1738114349888,"stop":1738114350660,"duration":772},"status":"passed","steps":[],"attachments":[{"uid":"a5c5746a8ee6ebe7","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"a5c5746a8ee6ebe7.txt","type":"text/plain","size":15119},{"uid":"8b4cb1eb11126ef2","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"8b4cb1eb11126ef2.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1738114350660,"stop":1738114354888,"duration":4228},"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"f7bd0f4e66a9af70","name":"Received response","source":"f7bd0f4e66a9af70.attach","type":"text/plain","size":131},{"uid":"9bbd2299ee1315ba","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [732604089483172] - Received response","source":"9bbd2299ee1315ba.txt","type":"text/plain","size":43885}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1738114354889,"stop":1738114354889,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":27,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":27},"items":[{"uid":"d23f31a67c6da8e0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/332//#testresult/d23f31a67c6da8e0","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738027932529,"stop":1738027938168,"duration":5639}},{"uid":"e5dc8db809d75190","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/331//#testresult/e5dc8db809d75190","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737941540726,"stop":1737941546862,"duration":6136}},{"uid":"9586e640a0f0b1fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/330//#testresult/9586e640a0f0b1fc","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737855111652,"stop":1737855117298,"duration":5646}},{"uid":"f082247caa460a3a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/329//#testresult/f082247caa460a3a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737768695988,"stop":1737768701690,"duration":5702}},{"uid":"25bf70ce57dd1c1a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/328//#testresult/25bf70ce57dd1c1a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737682341628,"stop":1737682347197,"duration":5569}},{"uid":"1cae3f1d1dfb1222","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/327//#testresult/1cae3f1d1dfb1222","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737595930735,"stop":1737595936162,"duration":5427}},{"uid":"8d227ab1635fa81b","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/326//#testresult/8d227ab1635fa81b","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737509548928,"stop":1737509555304,"duration":6376}},{"uid":"1a3f8bcf8ba13a99","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/325//#testresult/1a3f8bcf8ba13a99","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737423127409,"stop":1737423134203,"duration":6794}},{"uid":"50a2d4463ad462d7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/324//#testresult/50a2d4463ad462d7","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737336765319,"stop":1737336771635,"duration":6316}},{"uid":"fd6e9b64d4f2842c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/323//#testresult/fd6e9b64d4f2842c","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737250337483,"stop":1737250344308,"duration":6825}},{"uid":"20222f949231ef21","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/322//#testresult/20222f949231ef21","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737163911255,"stop":1737163918088,"duration":6833}},{"uid":"51d1eec8b990335c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/321//#testresult/51d1eec8b990335c","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737077507653,"stop":1737077512887,"duration":5234}},{"uid":"5515e4e0a7127557","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/320//#testresult/5515e4e0a7127557","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736991118152,"stop":1736991125493,"duration":7341}},{"uid":"c3d2f1dafdbe5aa6","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/319//#testresult/c3d2f1dafdbe5aa6","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736904736010,"stop":1736904744145,"duration":8135}},{"uid":"5b295ddb31a2eefb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/318//#testresult/5b295ddb31a2eefb","status":"failed","statusDetails":"AssertionError: The status code is not 302. Current value: 200.\n","time":{"start":1736818321694,"stop":1736818330801,"duration":9107}},{"uid":"78ed1879b61b7f64","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/317//#testresult/78ed1879b61b7f64","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736731968994,"stop":1736731974997,"duration":6003}},{"uid":"1bab68f94957c9f0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/316//#testresult/1bab68f94957c9f0","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736645546286,"stop":1736645553704,"duration":7418}},{"uid":"bbad7d8fb32a855d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/315//#testresult/bbad7d8fb32a855d","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736559126593,"stop":1736559132062,"duration":5469}},{"uid":"64e7b781ba1d9841","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/314//#testresult/64e7b781ba1d9841","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736472750322,"stop":1736472757721,"duration":7399}},{"uid":"9a05ef4e48c44b58","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/312//#testresult/9a05ef4e48c44b58","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736299948394,"stop":1736299953852,"duration":5458}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"2f1df1919df94f0a.json","parameterValues":[]}