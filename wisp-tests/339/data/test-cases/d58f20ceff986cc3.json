{"uid":"d58f20ceff986cc3","name":"User pays a cart with single RPT one simple transfer and one stamp","fullName":"User pays a payment carts with stamps on nodoInviaCarrelloRPT: User pays a cart with single RPT one simple transfer and one stamp","historyId":"b90cd0591bdf4f829eb31676859640d1","time":{"start":1738632899161,"stop":1738632903603,"duration":4442},"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'The redirect process is not ended successfully or there are missing events in RE')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'The redirect process is not ended successfully or there are missing events in RE')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1738632899161,"stop":1738632899915,"duration":754},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1738632899916,"stop":1738632899916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 2 transfers of which 1 are stamps","time":{"start":1738632899916,"stop":1738632899916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1738632899916,"stop":1738632900395,"duration":479},"status":"passed","steps":[],"attachments":[{"uid":"847fd46d442e13af","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"847fd46d442e13af.txt","type":"text/plain","size":9082},{"uid":"2ed030a97df0200c","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"2ed030a97df0200c.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1738632900395,"stop":1738632903602,"duration":3207},"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'The redirect process is not ended successfully or there are missing events in RE')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"47a9a9ee927c4392","name":"Received response","source":"47a9a9ee927c4392.attach","type":"text/plain","size":131},{"uid":"2525010ee7e01337","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [373557000115967] - Received response","source":"2525010ee7e01337.txt","type":"text/plain","size":29211}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts with stamps on nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":33,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":33},"items":[{"uid":"acc8b81452a2a766","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/338//#testresult/acc8b81452a2a766","status":"failed","statusDetails":"AssertionError: The status code is not 302. Current value: 200.\n","time":{"start":1738547038754,"stop":1738547050754,"duration":12000}},{"uid":"8bf2f4bb0313eff0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/337//#testresult/8bf2f4bb0313eff0","status":"failed","statusDetails":"AssertionError: The status code is not 302. Current value: 200.\n","time":{"start":1738460459665,"stop":1738460470557,"duration":10892}},{"uid":"35e531d43b0d236a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/336//#testresult/35e531d43b0d236a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738373849871,"stop":1738373863376,"duration":13505}},{"uid":"de4b3f06dd5081f2","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/335//#testresult/de4b3f06dd5081f2","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738287355242,"stop":1738287361214,"duration":5972}},{"uid":"74bbca718bca31c1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/334//#testresult/74bbca718bca31c1","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738200947617,"stop":1738200953560,"duration":5943}},{"uid":"1a38f731de6b2e1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/333//#testresult/1a38f731de6b2e1","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738114573178,"stop":1738114579615,"duration":6437}},{"uid":"87eb2e9c1a22960f","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/332//#testresult/87eb2e9c1a22960f","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738028113547,"stop":1738028118632,"duration":5085}},{"uid":"33d8563c91abf838","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/331//#testresult/33d8563c91abf838","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737941711718,"stop":1737941716222,"duration":4504}},{"uid":"111b3ae34d4b1648","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/330//#testresult/111b3ae34d4b1648","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737855277511,"stop":1737855281933,"duration":4422}},{"uid":"7b53eb8ef2d59eeb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/329//#testresult/7b53eb8ef2d59eeb","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737768862626,"stop":1737768867508,"duration":4882}},{"uid":"868df94c53364b14","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/328//#testresult/868df94c53364b14","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737682519369,"stop":1737682524160,"duration":4791}},{"uid":"d0566771fd08f524","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/327//#testresult/d0566771fd08f524","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737596095333,"stop":1737596099673,"duration":4340}},{"uid":"93f9840cf472c366","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/326//#testresult/93f9840cf472c366","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737509752192,"stop":1737509757582,"duration":5390}},{"uid":"1f62b0ec66485a05","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/325//#testresult/1f62b0ec66485a05","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737423343983,"stop":1737423349702,"duration":5719}},{"uid":"a8949505f19ad201","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/324//#testresult/a8949505f19ad201","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737336964685,"stop":1737336970178,"duration":5493}},{"uid":"377001b6528e327d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/323//#testresult/377001b6528e327d","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737250549940,"stop":1737250555707,"duration":5767}},{"uid":"7b23949f8cce26d3","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/322//#testresult/7b23949f8cce26d3","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737164122213,"stop":1737164127896,"duration":5683}},{"uid":"90a4ecc035854cda","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/321//#testresult/90a4ecc035854cda","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737077665228,"stop":1737077669503,"duration":4275}},{"uid":"e79831bc3fd9239d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/320//#testresult/e79831bc3fd9239d","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736991363669,"stop":1736991369006,"duration":5337}},{"uid":"5946a9f529128e5","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/319//#testresult/5946a9f529128e5","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736905000749,"stop":1736905007819,"duration":7070}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"d58f20ceff986cc3.json","parameterValues":[]}