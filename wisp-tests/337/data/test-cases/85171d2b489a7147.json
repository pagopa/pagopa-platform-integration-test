{"uid":"85171d2b489a7147","name":"User pays a cart with two RPTs without stamp of which one already exists in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with two RPTs without stamp of which one already exists in GPD","historyId":"ce26fea19cdeea993eaa1b427c38d67e","time":{"start":1738459932364,"stop":1738459956350,"duration":23986},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 741, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 17, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 741, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 17, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1738459932365,"stop":1738459933322,"duration":957},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1738459933323,"stop":1738459933323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1738459933323,"stop":1738459933323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1738459933323,"stop":1738459933323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1738459933323,"stop":1738459933839,"duration":516},"status":"passed","steps":[],"attachments":[{"uid":"75afcc3446238ded","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"75afcc3446238ded.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1738459933839,"stop":1738459934589,"duration":750},"status":"passed","steps":[],"attachments":[{"uid":"581e2b658bd45a70","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"581e2b658bd45a70.txt","type":"text/plain","size":15119},{"uid":"2b88716898e1d9b1","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"2b88716898e1d9b1.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1738459934589,"stop":1738459956350,"duration":21761},"status":"failed","statusMessage":"AssertionError: The status code is not 302. Current value: 200.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 189, in user_redirected_to_checkout\n    steputils.exec_nm1_to_nmu(context, actor)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 741, in exec_nm1_to_nmu\n    check_status_code(context, actor, '302')\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 17, in check_status_code\n    assert int(\n           ^^^^\n        expected_status_code) == actual_status_code, f'The status code is not {expected_status_code}. Current value: {actual_status_code}.'\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"5e702f8461d2e972","name":"Step: [the user is redirected on Checkout completing the payment]: on sessionId: [fe13aa85-fed9-42c3-b47c-36303515670d] - Received response","source":"5e702f8461d2e972.txt","type":"text/plain","size":5807},{"uid":"f7056f196f0df565","name":"Received response","source":"f7056f196f0df565.attach","type":"text/html","size":5677}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1738459956350,"stop":1738459956350,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":31,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":31},"items":[{"uid":"4f78e361dc963bfc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/336//#testresult/4f78e361dc963bfc","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738373553255,"stop":1738373563047,"duration":9792}},{"uid":"e04181b1d9b4f657","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/335//#testresult/e04181b1d9b4f657","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738287128091,"stop":1738287134881,"duration":6790}},{"uid":"255542cf1237e210","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/334//#testresult/255542cf1237e210","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738200726473,"stop":1738200733706,"duration":7233}},{"uid":"2f1df1919df94f0a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/333//#testresult/2f1df1919df94f0a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738114348197,"stop":1738114354889,"duration":6692}},{"uid":"d23f31a67c6da8e0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/332//#testresult/d23f31a67c6da8e0","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738027932529,"stop":1738027938168,"duration":5639}},{"uid":"e5dc8db809d75190","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/331//#testresult/e5dc8db809d75190","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737941540726,"stop":1737941546862,"duration":6136}},{"uid":"9586e640a0f0b1fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/330//#testresult/9586e640a0f0b1fc","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737855111652,"stop":1737855117298,"duration":5646}},{"uid":"f082247caa460a3a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/329//#testresult/f082247caa460a3a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737768695988,"stop":1737768701690,"duration":5702}},{"uid":"25bf70ce57dd1c1a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/328//#testresult/25bf70ce57dd1c1a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737682341628,"stop":1737682347197,"duration":5569}},{"uid":"1cae3f1d1dfb1222","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/327//#testresult/1cae3f1d1dfb1222","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737595930735,"stop":1737595936162,"duration":5427}},{"uid":"8d227ab1635fa81b","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/326//#testresult/8d227ab1635fa81b","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737509548928,"stop":1737509555304,"duration":6376}},{"uid":"1a3f8bcf8ba13a99","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/325//#testresult/1a3f8bcf8ba13a99","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737423127409,"stop":1737423134203,"duration":6794}},{"uid":"50a2d4463ad462d7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/324//#testresult/50a2d4463ad462d7","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737336765319,"stop":1737336771635,"duration":6316}},{"uid":"fd6e9b64d4f2842c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/323//#testresult/fd6e9b64d4f2842c","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737250337483,"stop":1737250344308,"duration":6825}},{"uid":"20222f949231ef21","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/322//#testresult/20222f949231ef21","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737163911255,"stop":1737163918088,"duration":6833}},{"uid":"51d1eec8b990335c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/321//#testresult/51d1eec8b990335c","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737077507653,"stop":1737077512887,"duration":5234}},{"uid":"5515e4e0a7127557","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/320//#testresult/5515e4e0a7127557","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736991118152,"stop":1736991125493,"duration":7341}},{"uid":"c3d2f1dafdbe5aa6","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/319//#testresult/c3d2f1dafdbe5aa6","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736904736010,"stop":1736904744145,"duration":8135}},{"uid":"5b295ddb31a2eefb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/318//#testresult/5b295ddb31a2eefb","status":"failed","statusDetails":"AssertionError: The status code is not 302. Current value: 200.\n","time":{"start":1736818321694,"stop":1736818330801,"duration":9107}},{"uid":"78ed1879b61b7f64","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/317//#testresult/78ed1879b61b7f64","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736731968994,"stop":1736731974997,"duration":6003}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"85171d2b489a7147.json","parameterValues":[]}