{"uid":"fd2e248e83754ad8","name":"User tries to pay a single payment that was inserted from ACA and is in invalid state","fullName":"User pays a single payment from existing payment position via nodoInviaRPT: User tries to pay a single payment that was inserted from ACA and is in invalid state","historyId":"f9152b0bbd0cc901d3a8cfd2b343f312","time":{"start":1738547241889,"stop":1738547261916,"duration":20027},"status":"failed","statusMessage":"AssertionError: There are not events with business process redirect.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 235, in debt_position_invalid\n    steputils.check_debt_position_invalid_and_sent_ko_receipt(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 856, in check_debt_position_invalid_and_sent_ko_receipt\n    check_event(context, 'redirect', 'operationErrorCode', 'WIC-1205')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 377, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: There are not events with business process redirect.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 235, in debt_position_invalid\n    steputils.check_debt_position_invalid_and_sent_ko_receipt(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 856, in check_debt_position_invalid_and_sent_ko_receipt\n    check_event(context, 'redirect', 'operationErrorCode', 'WIC-1205')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 377, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1738547241890,"stop":1738547243497,"duration":1607},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a single RPT of type BBT with 1 transfers of which 0 are stamps","time":{"start":1738547243497,"stop":1738547243497,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 01 and state equals to DRAFT","time":{"start":1738547243497,"stop":1738547243892,"duration":395},"status":"passed","steps":[],"attachments":[{"uid":"d66ad4879f0442","name":"Step: [an existing payment position related to first RPT with segregation code equals to 01 and state equals to DRAFT] - Sent request","source":"d66ad4879f0442.txt","type":"text/plain","size":1260}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay the RPT on EC website","time":{"start":1738547243893,"stop":1738547247652,"duration":3759},"status":"passed","steps":[],"attachments":[{"uid":"82a0e9d3ca11eaaf","name":"Step: [the user tries to pay the RPT on EC website] - Sent request","source":"82a0e9d3ca11eaaf.txt","type":"text/plain","size":7852},{"uid":"355038ce25984bb6","name":"Step: [the user tries to pay the RPT on EC website] - Received response","source":"355038ce25984bb6.txt","type":"text/plain","size":373}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then conversion to new model fails in wisp-converter","time":{"start":1738547247652,"stop":1738547259454,"duration":11802},"status":"passed","steps":[],"attachments":[{"uid":"39a48d7b45e575fe","name":"Step: [conversion to new model fails in wisp-converter]: on sessionId: [3d62acf8-732d-4342-bca3-f694a6592ec3] - Received response","source":"39a48d7b45e575fe.txt","type":"text/plain","size":5807},{"uid":"9dd4babd16949c34","name":"Received response","source":"9dd4babd16949c34.attach","type":"text/html","size":5677}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the KO receipt is sent","time":{"start":1738547259454,"stop":1738547261915,"duration":2461},"status":"failed","statusMessage":"AssertionError: There are not events with business process redirect.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 235, in debt_position_invalid\n    steputils.check_debt_position_invalid_and_sent_ko_receipt(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 856, in check_debt_position_invalid_and_sent_ko_receipt\n    check_event(context, 'redirect', 'operationErrorCode', 'WIC-1205')\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 377, in check_event\n    utils.assert_show_message(len(needed_process_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'There are not events with business process {business_process}.')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"3ca520ec9dd52689","name":"Step: [the KO receipt is sent]: on IUV: [696532927477703] - Received response","source":"3ca520ec9dd52689.txt","type":"text/plain","size":36186}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"nodo_invia_rpt"},{"name":"tag","value":"runnable"},{"name":"tag","value":"unhappy_path"},{"name":"feature","value":"User pays a single payment from existing payment position via nodoInviaRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":32,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":32},"items":[{"uid":"f13a5f27d8d30b61","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/337//#testresult/f13a5f27d8d30b61","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1738460635752,"stop":1738460643562,"duration":7810}},{"uid":"7dcb0cac60c6c7c2","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/336//#testresult/7dcb0cac60c6c7c2","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1738373946467,"stop":1738373954546,"duration":8079}},{"uid":"17eb2530b4a607ef","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/335//#testresult/17eb2530b4a607ef","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1738287428537,"stop":1738287435273,"duration":6736}},{"uid":"d23890883679cfef","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/334//#testresult/d23890883679cfef","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1738201025311,"stop":1738201032200,"duration":6889}},{"uid":"bd864ac24dc11510","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/333//#testresult/bd864ac24dc11510","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1738114653115,"stop":1738114659497,"duration":6382}},{"uid":"1d78fd47087186b1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/332//#testresult/1d78fd47087186b1","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1738028172489,"stop":1738028177532,"duration":5043}},{"uid":"3a07e5ec9e42ebda","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/331//#testresult/3a07e5ec9e42ebda","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737941768872,"stop":1737941773603,"duration":4731}},{"uid":"b7c5bce16c57688e","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/330//#testresult/b7c5bce16c57688e","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737855332576,"stop":1737855337863,"duration":5287}},{"uid":"9f03a3723a2d3a66","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/329//#testresult/9f03a3723a2d3a66","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737768918768,"stop":1737768923488,"duration":4720}},{"uid":"fb12ba256f455511","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/328//#testresult/fb12ba256f455511","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737682581263,"stop":1737682586971,"duration":5708}},{"uid":"ae89938377c06ac2","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/327//#testresult/ae89938377c06ac2","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737596152014,"stop":1737596157229,"duration":5215}},{"uid":"60c1b5ffcaff9e1c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/326//#testresult/60c1b5ffcaff9e1c","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737509821016,"stop":1737509826959,"duration":5943}},{"uid":"37557c93e26396f0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/325//#testresult/37557c93e26396f0","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737423416490,"stop":1737423422856,"duration":6366}},{"uid":"4a1d7ed3e7d6a61c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/324//#testresult/4a1d7ed3e7d6a61c","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737337032199,"stop":1737337038728,"duration":6529}},{"uid":"72fd4e64662c3c44","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/323//#testresult/72fd4e64662c3c44","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737250623360,"stop":1737250630001,"duration":6641}},{"uid":"9a714ac226652624","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/322//#testresult/9a714ac226652624","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737164195026,"stop":1737164201862,"duration":6836}},{"uid":"b4d327d60068fced","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/321//#testresult/b4d327d60068fced","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1737077718788,"stop":1737077723517,"duration":4729}},{"uid":"e0a20ab4811b0c1","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/320//#testresult/e0a20ab4811b0c1","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1736991447491,"stop":1736991454657,"duration":7166}},{"uid":"f552643ca431b666","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/319//#testresult/f552643ca431b666","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1736905087885,"stop":1736905096005,"duration":8120}},{"uid":"239102249f663ae7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/318//#testresult/239102249f663ae7","status":"failed","statusDetails":"AssertionError: There are not events with business process redirect.\n","time":{"start":1736818648572,"stop":1736818654454,"duration":5882}}]},"tags":["runnable","nodo_invia_rpt","unhappy_path"]},"source":"fd2e248e83754ad8.json","parameterValues":[]}