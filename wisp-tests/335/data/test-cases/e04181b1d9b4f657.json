{"uid":"e04181b1d9b4f657","name":"User pays a cart with two RPTs without stamp of which one already exists in GPD","fullName":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT: User pays a cart with two RPTs without stamp of which one already exists in GPD","historyId":"ce26fea19cdeea993eaa1b427c38d67e","time":{"start":1738287128091,"stop":1738287134881,"duration":6790},"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'The redirect process is not ended successfully or there are missing events in RE')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'The redirect process is not ended successfully or there are missing events in RE')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[{"name":"Given systems up","time":{"start":1738287128091,"stop":1738287129208,"duration":1117},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Given a cart of RPTs non-multibeneficiary","time":{"start":1738287129209,"stop":1738287129209,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1738287129209,"stop":1738287129209,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And a single RPT of type BBT with 1 transfers of which none are stamps","time":{"start":1738287129209,"stop":1738287129210,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID","time":{"start":1738287129210,"stop":1738287129679,"duration":469},"status":"passed","steps":[],"attachments":[{"uid":"9657e7bc78886cda","name":"Step: [an existing payment position related to first RPT with segregation code equals to 48 and state equals to VALID] - Sent request","source":"9657e7bc78886cda.txt","type":"text/plain","size":1259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"When the user tries to pay a cart of RPTs on EC website","time":{"start":1738287129679,"stop":1738287130296,"duration":617},"status":"passed","steps":[],"attachments":[{"uid":"11f87e96aa3edeaa","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Sent request","source":"11f87e96aa3edeaa.txt","type":"text/plain","size":15123},{"uid":"b4ffe14b36457b68","name":"Step: [the user tries to pay a cart of RPTs on EC website] - Received response","source":"b4ffe14b36457b68.txt","type":"text/plain","size":409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Then the user is redirected on Checkout completing the payment","time":{"start":1738287130297,"stop":1738287134880,"duration":4583},"status":"failed","statusMessage":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/model.py\", line 1329, in run\n    match.run(runner.context)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/behave/matchers.py\", line 98, in run\n    self.func(context, *args, **kwargs)\n    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"src/bdd/wisp/steps/steps.py\", line 190, in user_redirected_to_checkout\n    steputils.retrieve_related_notice_numbers_from_redirect(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 750, in retrieve_related_notice_numbers_from_redirect\n    retrieve_payment_notice_from_re_event(context)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/steps_utils.py\", line 242, in retrieve_payment_notice_from_re_event\n    utils.assert_show_message(len(needed_events) > 0,\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n                              f'The redirect process is not ended successfully or there are missing events in RE')\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/pagopa-platform-integration-test/pagopa-platform-integration-test/src/utility/wisp/utils.py\", line 133, in assert_show_message\n    assert assertion_value, message\n           ^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"9c76c4e9ee22cf08","name":"Received response","source":"9c76c4e9ee22cf08.attach","type":"text/plain","size":131},{"uid":"fab70a51ed0bf29a","name":"Step: [the user is redirected on Checkout completing the payment]: on IUV: [298428196384289] - Received response","source":"fab70a51ed0bf29a.txt","type":"text/plain","size":43899}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"And the debt position is closed","time":{"start":1738287134881,"stop":1738287134881,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"severity","value":"normal"},{"name":"tag","value":"happy_path"},{"name":"tag","value":"nodo_invia_carrello_rpt"},{"name":"tag","value":"runnable"},{"name":"feature","value":"User pays a payment carts from existing payment position via nodoInviaCarrelloRPT"},{"name":"framework","value":"behave"},{"name":"language","value":"cpython3"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":29,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":29},"items":[{"uid":"255542cf1237e210","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/334//#testresult/255542cf1237e210","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738200726473,"stop":1738200733706,"duration":7233}},{"uid":"2f1df1919df94f0a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/333//#testresult/2f1df1919df94f0a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738114348197,"stop":1738114354889,"duration":6692}},{"uid":"d23f31a67c6da8e0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/332//#testresult/d23f31a67c6da8e0","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1738027932529,"stop":1738027938168,"duration":5639}},{"uid":"e5dc8db809d75190","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/331//#testresult/e5dc8db809d75190","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737941540726,"stop":1737941546862,"duration":6136}},{"uid":"9586e640a0f0b1fc","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/330//#testresult/9586e640a0f0b1fc","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737855111652,"stop":1737855117298,"duration":5646}},{"uid":"f082247caa460a3a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/329//#testresult/f082247caa460a3a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737768695988,"stop":1737768701690,"duration":5702}},{"uid":"25bf70ce57dd1c1a","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/328//#testresult/25bf70ce57dd1c1a","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737682341628,"stop":1737682347197,"duration":5569}},{"uid":"1cae3f1d1dfb1222","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/327//#testresult/1cae3f1d1dfb1222","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737595930735,"stop":1737595936162,"duration":5427}},{"uid":"8d227ab1635fa81b","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/326//#testresult/8d227ab1635fa81b","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737509548928,"stop":1737509555304,"duration":6376}},{"uid":"1a3f8bcf8ba13a99","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/325//#testresult/1a3f8bcf8ba13a99","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737423127409,"stop":1737423134203,"duration":6794}},{"uid":"50a2d4463ad462d7","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/324//#testresult/50a2d4463ad462d7","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737336765319,"stop":1737336771635,"duration":6316}},{"uid":"fd6e9b64d4f2842c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/323//#testresult/fd6e9b64d4f2842c","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737250337483,"stop":1737250344308,"duration":6825}},{"uid":"20222f949231ef21","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/322//#testresult/20222f949231ef21","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737163911255,"stop":1737163918088,"duration":6833}},{"uid":"51d1eec8b990335c","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/321//#testresult/51d1eec8b990335c","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1737077507653,"stop":1737077512887,"duration":5234}},{"uid":"5515e4e0a7127557","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/320//#testresult/5515e4e0a7127557","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736991118152,"stop":1736991125493,"duration":7341}},{"uid":"c3d2f1dafdbe5aa6","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/319//#testresult/c3d2f1dafdbe5aa6","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736904736010,"stop":1736904744145,"duration":8135}},{"uid":"5b295ddb31a2eefb","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/318//#testresult/5b295ddb31a2eefb","status":"failed","statusDetails":"AssertionError: The status code is not 302. Current value: 200.\n","time":{"start":1736818321694,"stop":1736818330801,"duration":9107}},{"uid":"78ed1879b61b7f64","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/317//#testresult/78ed1879b61b7f64","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736731968994,"stop":1736731974997,"duration":6003}},{"uid":"1bab68f94957c9f0","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/316//#testresult/1bab68f94957c9f0","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736645546286,"stop":1736645553704,"duration":7418}},{"uid":"bbad7d8fb32a855d","reportUrl":"https://pagopa.github.io/pagopa-platform-integration-test/wisp-tests/315//#testresult/bbad7d8fb32a855d","status":"failed","statusDetails":"AssertionError: The redirect process is not ended successfully or there are missing events in RE\n","time":{"start":1736559126593,"stop":1736559132062,"duration":5469}}]},"tags":["runnable","nodo_invia_carrello_rpt","happy_path"]},"source":"e04181b1d9b4f657.json","parameterValues":[]}